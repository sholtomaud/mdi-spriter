{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/index.js","scripts/fastn/index.js","scripts/ui/index.js","scripts/ui/appBar.js","scripts/ui/activities.js","node_modules/fastn/index.js","node_modules/fastn/genericComponent.js","node_modules/fastn/templaterComponent.js","node_modules/fastn/listComponent.js","node_modules/fastn/textComponent.js","node_modules/modal-component/modalComponent.js","node_modules/svg-icon-component/iconComponent.js","node_modules/fastn/property.js","node_modules/fastn/binding.js","node_modules/fastn/baseComponent.js","node_modules/fastn/is.js","node_modules/fastn/containerComponent.js","node_modules/fastn/schedule.js","node_modules/fastn/fancyProps.js","scripts/app/index.js","node_modules/crel/crel.js","node_modules/enti/index.js","scripts/ui/pages/index.js","node_modules/object-assign/index.js","node_modules/fastn/firmer.js","node_modules/fastn/functionEmitter.js","node_modules/modal-component/node_modules/defaultcss/index.js","node_modules/modal-component/node_modules/doc-js/fluent.js","node_modules/modal-component/node_modules/crel/crel.js","node_modules/events/events.js","node_modules/multimap/index.js","node_modules/flat-merge/index.js","node_modules/cpjax/index.js","node_modules/same-value/index.js","node_modules/setprototypeof/index.js","node_modules/what-changed/index.js","node_modules/modal-component/node_modules/doc-js/doc.js","node_modules/modal-component/node_modules/doc-js/isList.js","node_modules/modal-component/node_modules/doc-js/getTargets.js","node_modules/setify/index.js","node_modules/classist/index.js","scripts/app/time.js","scripts/app/tute.js","node_modules/cpjax/node_modules/simple-ajax/index.js","scripts/app/activityRouter/index.js","scripts/app/persistence/index.js","node_modules/modal-component/node_modules/doc-js/getTarget.js","scripts/ui/pages/tute.js","scripts/ui/pages/home.js","scripts/ui/pages/topic.js","node_modules/what-changed/node_modules/deep-equal/index.js","node_modules/clone/clone.js","node_modules/natural-selection/index.js","node_modules/what-changed/node_modules/deep-equal/lib/keys.js","node_modules/what-changed/node_modules/deep-equal/lib/is_arguments.js","node_modules/cpjax/node_modules/simple-ajax/node_modules/query-string/query-string.js","node_modules/debug/browser.js","node_modules/buffer/index.js","scripts/app/activityRouter/routes.js","scripts/sim/index.js","node_modules/debug/debug.js","node_modules/activity-router/index.js","node_modules/buffer/node_modules/isarray/index.js","node_modules/ieee754/index.js","node_modules/base64-js/lib/b64.js","node_modules/ms/index.js","node_modules/activity-router/node_modules/debounce/index.js","node_modules/activity-router/node_modules/route-tree/router.js","node_modules/activity-router/node_modules/route-tree/intersect.js","node_modules/activity-router/node_modules/debounce/node_modules/date-now/index.js"],"names":["fastn","require","window","addEventListener","ui","attach","render","document","body","appendChild","element","module","exports","_generic","templater","list","text","modal","icon","resolvePath","iconName","app","class","name","on","event","scope","preventDefault","stopImmediatePropagation","activityRouter","reset","pages","items","binding","template","data","attachTemplates","model","lastComponent","get","route","router","activity","inflateProperties","component","settings","key","setting","property","is","destroy","addTo","validateExpectedComponents","components","componentName","expectedComponents","filter","length","console","warn","join","createProperty","createBinding","BaseComponent","crel","Enti","objectAssign","debug","type","args","i","arguments","childrenIndex","settingsChild","toComponent","Array","isArray","baseType","types","split","children","slice","base","shift","extend","_properties","Error","_container","Date","auto","isElement","isNode","textContent","isComponent","isBinding","isDefaultBinding","defaultBinding","isBindingObject","bindingObject","isProperty","Model","componentConstructor","createProperties","addDomProperty","addDomHandler","handlerName","eventName","capture","eventParts","handler","emit","removeEventListener","addDomHandlers","eventNames","events","match","matchDomHandlerName","addAutoHandler","autoEvent","fancyProp","fancyProps","value","update","getPropertyElement","destroyed","previous","getAttribute","setAttribute","this","setProperty","updater","onRender","_settings","getEventElement","eventKey","_events","createElement","tagName","_tagName","genericComponent","GENERIC","bind","getContainerElement","updateProperty","containerComponent","schedule","contains","Node","replaceElement","parentNode","replaceChild","itemModel","set","newComponent","_currentComponent","emptyElement","createTextNode","undefined","dataChanges","each","fn","keyFor","object","index","indexOf","MultiMap","merge","Map","updateItems","updateItem","item","child","existing","_children","_templated","existingItem","childModel","dataMap","_listItem","itemsMap","insert","emptyTemplate","newTemplate","lastTemplate","currentItems","forEach","childComponent","currentKey","removeComponent","remove","WeakMap","itemChanges","updateText","autoRender","content","autoText","textComponent","pop","doc","defaultCss","waitForAnimation","callback","timeout","clearTimeout","setTimeout","animationTime","setModalState","newState","modalElement","removeClass","state","addClass","clearContentChild","contentChild","updateShow","show","lastShowTime","now","removeChild","_type","_attachChildren","containerElement","contentElement","closable","target","closest","_insert","childNodes","insertBefore","cpjax","iconCache","options","setImage","svg","innerHTML","updateName","path","callbacks","push","error","propertyTemplate","_value","valueUpdate","changeChecker","current","changes","WhatChanged","Object","keys","lastValue","newValue","same","propertyBinding","newBinding","removeListener","_firm","attachProperty","firm","firmer","detachProperty","detach","_update","propertyUpdater","destroyProperty","removeAllListeners","propertyDestroyed","addPropertyTo","currentValue","propertyScope","hasChanged","setPrototypeOf","propertyProto","functionEmitter","create","_fastn_property","fuseBinding","change","selfChanging","resultBinding","transform","apply","bindings","map","updateTransform","prototype","call","_arguments","_model","_set","_change","splice","lastAttached","createValueBinding","valueBinding","bindingTemplate","_fastn_binding","more","modelAttachHandler","modelDetachHandler","bindingScope","setMaxListeners","Infinity","isEnti","attachedModel","isAttached","clone","keepAttachment","soft","listeners","from","valueOrBinding","flatten","reduce","result","concat","attachProperties","detachProperties","destroyProperties","getSetBinding","emitAttach","emitDetach","newBound","lastBound","getScope","attachComponent","detachComponent","isDestroyed","extendComponent","isType","FastnComponent","componentScope","_default_binding","_component","EventEmitter","constructor","_fastn_component","thing","OBJECT","FASTNCOMPONENT","FASTNBINDING","FUNCTION","FASTNPROPERTY","DEFAULTBINDING","insertChild","container","currentIndex","isNaN","_remove","empty","oldChild","newChild","run","startTime","todo","todoKeys","requestAnimationFrame","scheduled","updates","updateTextProperty","generic","setify","classist","_classist","display","style","disabled","hasAttribute","removeAttribute","innerText","inputType","nodeName","replace","getFullYear","getMonth","getDate","parseFloat","max","tute","time","persistence","root","factory","define","amd","childIndex","argumentsLength","attributeMap","attrMapString","isElementString","d","obj","isNodeString","attr","nodeType","a","ownerDocument","Proxy","toArray","matchDeep","deepRegex","isWildcardPath","stringPath","getTargetKey","leftAndRest","isWildcardKey","charAt","isFeralcardKey","addHandler","trackedKeys","trackedObjects","handlers","Set","add","removeHandler","trackObjects","tracked","trackKeys","rest","targetIsObject","has","handle","emitKey","rootAndRest","createHandler","enti","trackedObjectPaths","trackedPaths","oldModel","entis","_emittedEvents","size","trackedEvents","targetKey","trackPath","WeakSet","trackPaths","modifiedEnties","emitEvent","emitForKey","detached","eventSystemVersion","globalKey","globalState","global","instances","original","keysChanged","subKey","move","updateTarget","updatedObjects","_maxListeners","_attached","attachedCount","store","home","topic","ToObject","val","TypeError","ownEnumerableKeys","getOwnPropertyNames","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","assign","source","to","s","entity","functionEmitterPrototype","label","styleId","styleEl","getElementById","firstStyleDef","querySelector","head","Floc","floc","instance","getTargets","isList","flocProto","returnsSelf","b","c","e","f","proxy","off","reference","ready","className","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","n","er","len","addListener","listener","m","newListener","warned","trace","once","g","fired","position","ret","listenerCount","evlistener","emitter","mapEach","operation","next","done","Multimap","iterable","self","_map","mapCtor","_","makeIterator","iterator","nextIndex","safariNext","entry","idx","hasKey","hasOwnProperty","values","vals","forEachEntry","iter","clear","defineProperty","configurable","enumerable","total","Function","flatMerge","aKeys","bKeys","Ajax","url","ajax","responseText","send","String","setProtoOf","proto","__proto__","mixinProperties","prop","keysAreDifferent","keys1","keys2","getKeys","changesToTrack","_changesToTrack","deepEqual","newKeys","_lastReference","_lastValue","_lastKeys","some","shallowStructure","structure","isIn","array","find","query","results","subResults","j","querySelectorAll","findOne","getTarget","parentless","createDocumentFragment","arrayProto","classes","space","currentClasses","classList","classToAdd","classToRemove","removeIndex","addEvent","multiRemoveCallbacks","removeCallbacks","eventSettings","closestTarget","removeCallback","targets","targetIndex","currentTarget","append","prepend","firstChild","isVisible","indexOfElement","parent","parentElement","readyState","attachEvent","setDocument","singleClass","singleId","singleTag","exec","getElementsByTagName","getElementsByClassName","naturalSelection","canSet","activeElement","start","selectionStart","end","selectionEnd","setSelectionRange","lastClasses","cleanClassName","trim","newClasses","startMil","getTime","h","getHours","Math","floor","getMinutes","_time","fiveMin","thirtySec","timeModel","hours","minutes","currentTime","elapsedTime","fiveMinCounter","thirtySecCounter","timeIncrement","timeData","nextTime","timeUpdate","tuteModel","currentTopic","id","title","summary","currentTute","tutor","tutorId","email","startDate","endTime","courseId","topics","comprehende","nonComprehende","comprehensionLog","tutes","tryParseJson","JSON","parse","request","abort","queryStringData","XMLHttpRequest","method","cors","withCredentials","XDomainRequest","cache","toLowerCase","urlParts","queryString","stringify","dataType","status","_requestTimeout","open","contentType","setRequestHeader","requestedWith","auth","headerKey","headers","processData","updateInfo","info","createActivityRouter","routes","activitiesModel","activities","activitiesBinding","activityData","homeRoute","init","activityModel","sim","_id","isUndefinedOrNull","isBuffer","x","copy","objEquiv","opts","isArguments","pSlice","ka","objectKeys","kb","sort","actual","expected","strict","circular","depth","_clone","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","useBuffer","Buffer","getPrototypeOf","allParents","allChildren","attrs","getOwnPropertyDescriptor","__objToStr","o","toString","re","flags","ignoreCase","multiline","clonePrototype","supportedTypes","shim","supported","unsupported","supportsArgumentsClass","str","param","parts","decodeURIComponent","val2","encodeURIComponent","useColors","documentElement","firebug","exception","table","navigator","userAgent","parseInt","$1","formatArgs","namespace","humanize","diff","color","lastC","log","save","namespaces","storage","removeItem","load","r","localstorage","localStorage","chrome","local","colors","formatters","v","enable","typedArraySupport","arr","Uint8Array","foo","subarray","byteLength","kMaxLength","TYPED_ARRAY_SUPPORT","fromNumber","fromString","fromObject","that","allocate","checked","string","encoding","write","fromBuffer","fromArray","ArrayBuffer","buffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","fromPool","poolSize","rootParent","RangeError","SlowBuffer","subject","buf","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","hexWrite","offset","Number","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","units","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","src","dst","INSPECT_MAX_BYTES","_augment","Symbol","species","_isBuffer","compare","y","isEncoding","pos","equals","inspect","byteOffset","arrayIndexOf","foundIndex","isFinite","swap","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","fill","_url","_title","argument","selectColor","prevColor","enabled","curr","ms","prevTime","prev","coerce","format","formatter","logFn","skips","names","disable","test","stack","message","Router","debounce","getActivities","updateRoute","addActivity","updateHash","updateActivity","replaceActivity","removeActivity","getPaths","location","hash","buildPath","href","basePath","buildRoutes","paths","resolve","newName","newValues","routeCounter","updateRoutes","top","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","decode","elt","revLookup","b64ToByteArray","b64","L","l","tmp","placeHolders","Arr","encode","num","lookup","tripletToBase64","encodeChunk","uint8","temp","output","uint8ToBase64","extraBytes","maxChunkLength","code","base64js","short","round","long","plural","ceil","func","wait","immediate","later","last","timestamp","context","callNow","sanitise","sanitiseRegex","isRestKey","isRestToken","token","formatString","rootPath","absolutePath","protocol","host","scanRoutes","cleanTokens","intersect","formatRegex","keysRegex","nonNameKey","currentPath","details","routeName","bestMatch","urls","mostMatches","routeKey","regex","keyNameMatch","upOneName","upOne","drill","getRouteTemplate","routeTemplate","urlsByDistance","urlA","urlB","keysA","keysB","commonAKeys","commonBKeys","aDistance","bDistance","getTemplate","_defaults","defaultValue","serialise","_serialise","resolvedValues","valuesKey","childName","parentName","lastRoute","currentRoute","isRoot","deserialise","getArguments","arrayA","arrayB","intersector","innerCheck","aItem"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var fastn = require(\"./fastn\");\n\nwindow.addEventListener('load', function(){\n    var ui = require(\"./ui\");\n\n    ui.attach().render();\n\n    document.body.appendChild(ui.element);\n});\n","module.exports = require(\"fastn\")({\n    _generic: require(\"fastn/genericComponent\"),\n    templater: require(\"fastn/templaterComponent\"),\n    list: require(\"fastn/listComponent\"),\n    text: require(\"fastn/textComponent\"),\n    modal: require(\"modal-component/modalComponent\"),\n    icon: require(\"svg-icon-component/iconComponent\")({\n        resolvePath: function(iconName){\n            return 'styles/icons/' + iconName + '.svg';\n        }\n    })\n}, true);","var fastn = require(\"../fastn\");\n\nmodule.exports = fastn('div', \n    require(\"./appBar\")(),\n    require(\"./activities\")\n);\n\n","var fastn = require(\"../fastn\"),\n    app = require(\"../app\");\n\nmodule.exports = function(){\n    return fastn('div', {class: 'appBar'},\n        fastn('div',{class:'menu'},\n            fastn('icon', {'name': 'menu'}) )\n            .on('click', function(event, scope) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                // require('../modals').menu.show(true);\n            }\n        ),\n        fastn('div',{class:'app-title'}, 'Tute' )\n        .on('click',function(event, scope) {\n            event.preventDefault();\n            app.activityRouter.reset('home');\n        }),\n        fastn('div',{class:'menu'},\n            fastn('icon', {'name': 'login'}) )\n                .on('click', function(event, scope) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                // require('../modals').menu.show(true);\n            })\n        )\n};","var app = require(\"../app\"),\n    fastn = require(\"../fastn\"),\n    pages = require(\"./pages\");\n\nmodule.exports = fastn('list', {\n    class: 'activities',\n    items: app.activityRouter.binding,\n    template: function(){\n        return fastn('templater', {\n            data: fastn.binding('item|*'),\n            attachTemplates: false,\n            template: function(model, scope, lastComponent){\n                var name = model.get('item.name'),\n                    route = app.activityRouter.router.get(name, model.get('item.values'));\n\n                if(lastComponent && lastComponent.route === route){\n                    return lastComponent;\n                }\n\n                var activity = fastn('div', {\n                        'class': fastn.binding('item.name', function(name){\n                            return ['activity', name];\n                        })\n                    },\n                    pages[name] && pages[name]( model)\n                );\n                \n                activity.route = route;\n\n                return activity;\n            }\n        });\n    }\n});","var createProperty = require('./property'),\n    createBinding = require('./binding'),\n    BaseComponent = require('./baseComponent'),\n    crel = require('crel'),\n    Enti = require('enti'),\n    objectAssign = require('object-assign'),\n    is = require('./is');\n\nfunction inflateProperties(component, settings){\n    for(var key in settings){\n        var setting = settings[key],\n            property = component[key];\n\n        if(is.property(settings[key])){\n\n            if(is.property(property)){\n                property.destroy();\n            }\n\n            setting.addTo(component, key);\n\n        }else if(is.property(property)){\n\n            if(is.binding(setting)){\n                property.binding(setting);\n            }else{\n                property(setting);\n            }\n\n            property.addTo(component, key);\n        }\n    }\n}\n\nfunction validateExpectedComponents(components, componentName, expectedComponents){\n    expectedComponents = expectedComponents.filter(function(componentName){\n        return !(componentName in components);\n    });\n\n    if(expectedComponents.length){\n        console.warn([\n            'fastn(\"' + componentName + '\") uses some components that have not been registered with fastn',\n            'Expected conponent constructors: ' + expectedComponents.join(', ')\n        ].join('\\n\\n'));\n    }\n}\n\nmodule.exports = function(components, debug){\n\n    if(!components || typeof components !== 'object'){\n        throw new Error('fastn must be initialised with a components object');\n    }\n\n    components._container = components._container || require('./containerComponent');\n\n    function fastn(type){\n\n        var args = [];\n        for(var i = 0; i < arguments.length; i++){\n            args[i] = arguments[i];\n        }\n\n        var settings = args[1],\n            childrenIndex = 2,\n            settingsChild = fastn.toComponent(args[1]);\n\n        if(Array.isArray(args[1]) || settingsChild || !args[1]){\n            args[1] = settingsChild || args[1];\n            childrenIndex--;\n            settings = null;\n        }\n\n        settings = objectAssign({}, settings || {});\n\n        var types = typeof type === 'string' ? type.split(':') : Array.isArray(type) ? type : [type],\n            baseType,\n            children = args.slice(childrenIndex),\n            component = fastn.base(type, settings, children);\n\n        while(baseType = types.shift()){\n            component.extend(baseType, settings, children);\n        }\n\n        component._properties = {};\n\n        inflateProperties(component, settings);\n\n        return component;\n    }\n\n    fastn.toComponent = function(component){\n        if(component == null){\n            return;\n        }\n        if(is.component(component)){\n            return component;\n        }\n        if(typeof component !== 'object' || component instanceof Date){\n            return fastn('text', {auto: true}, component);\n        }\n        if(crel.isElement(component)){\n            return fastn(component);\n        }\n        if(crel.isNode(component)){\n            return fastn('text', {auto: true}, component.textContent);\n        }\n    };\n\n    fastn.debug = debug;\n    fastn.property = createProperty;\n    fastn.binding = createBinding;\n    fastn.isComponent = is.component;\n    fastn.isBinding = is.binding;\n    fastn.isDefaultBinding = is.defaultBinding;\n    fastn.isBindingObject = is.bindingObject;\n    fastn.isProperty = is.property;\n    fastn.components = components;\n    fastn.Model = Enti;\n\n    fastn.base = function(type, settings, children){\n        return new BaseComponent(fastn, type, settings, children);\n    };\n\n    for(var key in components){\n        var componentConstructor = components[key];\n\n        if(componentConstructor.expectedComponents){\n            validateExpectedComponents(components, key, componentConstructor.expectedComponents);\n        }\n    }\n\n    return fastn;\n};","var containerComponent = require('./containerComponent'),\n    schedule = require('./schedule'),\n    fancyProps = require('./fancyProps'),\n    matchDomHandlerName = /^((?:el\\.)?)([^. ]+)(?:\\.(capture))?$/,\n    GENERIC = '_generic';\n\nfunction createProperties(fastn, component, settings){\n    for(var key in settings){\n        var setting = settings[key];\n\n        if(typeof setting === 'function' && !fastn.isProperty(setting) && !fastn.isBinding(setting)){\n            continue;\n        }\n\n        component.addDomProperty(key);\n    }\n}\n\nfunction addDomHandler(component, element, handlerName, eventName, capture){\n    var eventParts = handlerName.split('.');\n\n    if(eventParts[0] === 'on'){\n        eventParts.shift();\n    }\n\n    var handler = function(event){\n            component.emit(handlerName, event, component.scope());\n        };\n\n    element.addEventListener(eventName, handler, capture);\n\n    component.on('destroy', function(){\n        element.removeEventListener(eventName, handler, capture);\n    });\n}\n\nfunction addDomHandlers(component, element, eventNames){\n    var events = eventNames.split(' ');\n\n    for(var i = 0; i < events.length; i++){\n        var eventName = events[i],\n            match = eventName.match(matchDomHandlerName);\n\n        if(!match){\n            continue;\n        }\n\n        if(match[1] || 'on' + match[2] in element){\n            addDomHandler(component, element, eventNames, match[2], match[3]);\n        }\n    }\n}\n\nfunction addAutoHandler(component, element, key, settings){\n    if(!settings[key]){\n        return;\n    }\n\n    var autoEvent = settings[key].split(':'),\n        eventName = key.slice(2);\n\n    delete settings[key];\n\n    var handler = function(event){\n        var fancyProp = fancyProps[autoEvent[1]],\n            value = fancyProp ? fancyProp(component, element) : element[autoEvent[1]];\n\n        component[autoEvent[0]](value);\n    };\n\n    element.addEventListener(eventName, handler);\n\n    component.on('destroy', function(){\n        element.removeEventListener(eventName, handler);\n    });\n}\n\nfunction addDomProperty(fastn, key, property){\n    var component = this;\n\n    property = property || component[key] || fastn.property();\n    component.setProperty(key, property);\n\n    function update(){\n        var element = component.getPropertyElement(key),\n            value = property();\n\n        if(!element || component.destroyed()){\n            return;\n        }\n\n        var isProperty = key in element,\n            fancyProp = fancyProps[key],\n            previous = fancyProp ? fancyProp(component, element) : isProperty ? element[key] : element.getAttribute(key);\n\n        if(!fancyProp && !isProperty && value == null){\n            value = '';\n        }\n\n        if(value !== previous){\n            if(fancyProp){\n                fancyProp(component, element, value);\n                return;\n            }\n\n            if(isProperty){\n                element[key] = value;\n                return;\n            }\n\n            if(typeof value !== 'function' && typeof value !== 'object'){\n                element.setAttribute(key, value);\n            }\n        }\n    }\n\n    property.updater(update);\n}\n\nfunction onRender(){\n    var component = this,\n        element;\n\n    for(var key in component._settings){\n        element = component.getEventElement(key);\n        if(key.slice(0,2) === 'on' && key in element){\n            addAutoHandler(component, element, key, component._settings);\n        }\n    }\n\n    for(var eventKey in component._events){\n        element = component.getEventElement(key);\n        addDomHandlers(component, element, eventKey);\n    }\n}\n\nfunction render(){\n    this.element = this.createElement(this._settings.tagName || this._tagName);\n\n    this.emit('render');\n\n    return this;\n};\n\nfunction genericComponent(fastn, component, type, settings, children){\n    if(component.is(type)){\n        return component;\n    }\n\n    if(type === GENERIC){\n        component._tagName = component._tagName || 'div';\n    }else{\n        component._tagName = type;\n    }\n\n    if(component.is(GENERIC)){\n        return component;\n    }\n\n    component.extend('_container', settings, children);\n\n    component.addDomProperty = addDomProperty.bind(component, fastn);\n    component.getEventElement = component.getContainerElement;\n    component.getPropertyElement = component.getContainerElement;\n    component.updateProperty = genericComponent.updateProperty;\n    component.createElement = genericComponent.createElement;\n\n    createProperties(fastn, component, settings);\n\n    component.render = render.bind(component);\n\n    component.on('render', onRender);\n\n    return component;\n}\n\ngenericComponent.updateProperty = function(component, property, update){\n    if(typeof document !== 'undefined' && document.contains(component.element)){\n        schedule(property, update);\n    }else{\n        update();\n    }\n};\n\ngenericComponent.createElement = function(tagName){\n    if(tagName instanceof Node){\n        return tagName;\n    }\n    return document.createElement(tagName);\n};\n\nmodule.exports = genericComponent;","module.exports = function(fastn, component, type, settings, children){\n    var itemModel = new fastn.Model({});\n\n    if(!('template' in settings)){\n        console.warn('No \"template\" function was set for this templater component');\n    }\n\n    function replaceElement(element){\n        if(component.element && component.element.parentNode){\n            component.element.parentNode.replaceChild(element, component.element);\n        }\n        component.element = element;\n    }\n\n    function update(){\n\n        var value = component.data(),\n            template = component.template();\n\n        itemModel.set('item', value);\n\n        var newComponent;\n\n        if(template){\n           newComponent = fastn.toComponent(template(itemModel, component.scope(), component._currentComponent));\n        }\n\n        if(component._currentComponent && component._currentComponent !== newComponent){\n            if(fastn.isComponent(component._currentComponent)){\n                component._currentComponent.destroy();\n            }\n        }\n\n        component._currentComponent = newComponent;\n\n        if(!newComponent){\n            replaceElement(component.emptyElement);\n            return;\n        }\n\n        if(fastn.isComponent(newComponent)){\n            if(component._settings.attachTemplates !== false){\n                newComponent.attach(itemModel, 2);\n            }else{\n                newComponent.attach(component.scope(), 1);\n            }\n\n            if(component.element && component.element !== newComponent.element){\n                if(newComponent.element == null){\n                    newComponent.render();\n                }\n                replaceElement(component._currentComponent.element);\n            }\n        }\n    }\n\n    component.render = function(){\n        var element;\n        component.emptyElement = document.createTextNode('');\n        if(component._currentComponent){\n            component._currentComponent.render();\n            element = component._currentComponent.element;\n        }\n        component.element = element || component.emptyElement;\n        component.emit('render');\n    };\n\n    component.setProperty('data',\n        fastn.property(undefined, settings.dataChanges || 'value structure')\n            .on('change', update)\n    );\n\n    component.setProperty('template',\n        fastn.property(undefined, 'value reference')\n            .on('change', update)\n    );\n\n    component.on('destroy', function(){\n        if(fastn.isComponent(component._currentComponent)){\n            component._currentComponent.destroy();\n        }\n    });\n\n    component.on('attach', function(data){\n        if(fastn.isComponent(component._currentComponent)){\n            component._currentComponent.attach(component.scope(), 1);\n        }\n    });\n\n    return component;\n};","var MultiMap = require('multimap'),\n    merge = require('flat-merge');\n\nMultiMap.Map = Map;\n\nfunction each(value, fn){\n    if(!value || typeof value !== 'object'){\n        return;\n    }\n\n    if(Array.isArray(value)){\n        for(var i = 0; i < value.length; i++){\n            fn(value[i], i)\n        }\n    }else{\n        for(var key in value){\n            fn(value[key], key);\n        }\n    }\n}\n\nfunction keyFor(object, value){\n    if(!object || typeof object !== 'object'){\n        return false;\n    }\n\n    if(Array.isArray(object)){\n        var index = object.indexOf(value);\n        return index >=0 ? index : false;\n    }\n\n    for(var key in object){\n        if(object[key] === value){\n            return key;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = function(fastn, component, type, settings, children){\n\n    if(fastn.components._generic){\n        component.extend('_generic', settings, children);\n    }else{\n        component.extend('_container', settings, children);\n    }\n\n    if(!('template' in settings)){\n        console.warn('No \"template\" function was set for this templater component');\n    }\n\n    var itemsMap = new MultiMap(),\n        dataMap = new WeakMap(),\n        lastTemplate,\n        existingItem = {};\n\n    function updateItems(){\n        var value = component.items(),\n            template = component.template(),\n            emptyTemplate = component.emptyTemplate(),\n            newTemplate = lastTemplate !== template;\n\n        var currentItems = merge(template ? value : []);\n\n        itemsMap.forEach(function(childComponent, item){\n            var currentKey = keyFor(currentItems, item);\n\n            if(!newTemplate && currentKey !== false){\n                currentItems[currentKey] = [existingItem, item, childComponent];\n            }else{\n                removeComponent(childComponent);\n                itemsMap.delete(item);\n            }\n        });\n\n        var index = 0;\n\n        function updateItem(item, key){\n            var child,\n                existing;\n\n            while(index < component._children.length && !component._children[index]._templated){\n                index++;\n            }\n\n            if(Array.isArray(item) && item[0] === existingItem){\n                existing = true;\n                child = item[2];\n                item = item[1];\n            }\n\n            var childModel;\n\n            if(!existing){\n                childModel = new fastn.Model({\n                    item: item,\n                    key: key\n                });\n\n                child = fastn.toComponent(template(childModel, component.scope()));\n                if(!child){\n                    child = fastn('template');\n                }\n                child._listItem = item;\n                child._templated = true;\n\n                dataMap.set(child, childModel);\n                itemsMap.set(item, child);\n            }else{\n                childModel = dataMap.get(child);\n                childModel.set('key', key);\n            }\n\n            if(fastn.isComponent(child) && component._settings.attachTemplates !== false){\n                child.attach(childModel, 2);\n            }\n\n            component.insert(child, index);\n            index++;\n        }\n\n        each(currentItems, updateItem);\n\n        lastTemplate = template;\n\n        if(index === 0 && emptyTemplate){\n            var child = fastn.toComponent(emptyTemplate(component.scope()));\n            if(!child){\n                child = fastn('template');\n            }\n            child._templated = true;\n\n            itemsMap.set({}, child);\n\n            component.insert(child);\n        }\n    }\n\n    function removeComponent(childComponent){\n        component.remove(childComponent);\n        childComponent.destroy();\n    }\n\n    component.setProperty('items',\n        fastn.property([], settings.itemChanges || 'type keys shallowStructure')\n            .on('change', updateItems)\n    );\n\n    component.setProperty('template',\n        fastn.property().on('change', updateItems)\n    );\n\n    component.setProperty('emptyTemplate',\n        fastn.property().on('change', updateItems)\n    );\n\n    return component;\n};","function updateText(){\n    if(!this.element){\n        return;\n    }\n\n    var value = this.text();\n\n    this.element.textContent = (value == null ? '' : value);\n}\n\nfunction autoRender(content){\n    this.element = document.createTextNode(content);\n}\n\nfunction autoText(text, fastn, content) {\n    text.render = autoRender.bind(text, content);\n\n    return text;\n}\n\nfunction render(){\n    this.element = this.createTextNode(this.text());\n    this.emit('render');\n};\n\nfunction textComponent(fastn, component, type, settings, children){\n    if(settings.auto){\n        delete settings.auto;\n        if(!fastn.isBinding(children[0])){\n            return autoText(component, fastn, children[0]);\n        }\n        settings.text = children.pop();\n    }\n\n    component.createTextNode = textComponent.createTextNode;\n    component.render = render.bind(component);\n\n    component.setProperty('text', fastn.property('', updateText.bind(component)));\n\n    return component;\n}\n\ntextComponent.createTextNode = function(text){\n    return document.createTextNode(text);\n};\n\nmodule.exports = textComponent;","var crel = require('crel'),\n    doc = require('doc-js'),\n    defaultCss = require('defaultcss');\n\ndefaultCss('modal-component', '.modal-component{position:fixed;top:0;bottom:0;left:0;right:0;}.modal-component .content{background:white}');\n\nmodule.exports = function(fastn, component, type, settings, children){\n    var lastShowTime;\n\n    component.extend('_generic', settings, children);\n\n    component._type = 'modal';\n    component._attachChildren = false;\n    component.render = function(){\n        component.element = document.createTextNode('');\n\n        component.modalElement = crel('div', {'class':'modal-component'},\n            component.containerElement = component.contentElement = crel('div', {'class':'content'})\n        );\n\n        component.emit('render');\n\n        var handler = function(event){\n            if(\n                component.show() &&\n                component.closable() &&\n                !doc(event.target).closest(component.contentElement)\n            ){\n                component.show(false);\n            }\n        };\n\n        document.addEventListener('click', handler, true);\n\n        component.on('destroy', function(){\n            document.removeEventListener('click', handler, true);\n            updateShow(false);\n        });\n\n        return component;\n    };\n    component._insert = function(element, index){\n        if(!component.contentElement){\n            return;\n        }\n\n        if(component.contentElement.childNodes[index] === element){\n            return;\n        }\n\n        component.contentElement.insertBefore(element, component.contentElement.childNodes[index]);\n    };\n\n    var timeout;\n    function waitForAnimation(callback){\n        if(timeout){\n            clearTimeout(timeout);\n        }\n\n        // Allow hide timeout for animations\n        timeout = setTimeout(callback, settings.animationTime || 0);\n    }\n\n    var state = 'hidden';\n    function setModalState(newState){\n        doc(component.modalElement).removeClass(state).addClass(newState);\n        state = newState;\n        component.emit('state', state);\n    }\n\n    var contentChild;\n\n    function clearContentChild(){\n        if(contentChild){\n            component.remove(contentChild);\n            contentChild.destroy();\n            contentChild = null;\n        }\n    }\n\n    function updateShow(show){\n        if(!component.element){\n            return;\n        }\n\n        if(show){\n            lastShowTime = Date.now();\n\n            clearContentChild();\n\n            if(component._settings.content){\n                contentChild = fastn.toComponent(component._settings.content(component.scope()));\n                component.insert(contentChild);\n            }\n\n            if(!component.modalElement.parentNode){\n                crel(document.body, component.modalElement);\n            }\n\n            setModalState('showing');\n\n            waitForAnimation(function(){\n                setModalState('shown');\n            });\n        }else{\n            setModalState('hiding');\n\n            waitForAnimation(function(){\n                setModalState('hidden');\n\n                if(component.modalElement.parentNode){\n                    component.modalElement.parentNode.removeChild(component.modalElement);\n                }\n\n                clearContentChild();\n            });\n        }\n    }\n\n    component.setProperty('show');\n    component.setProperty('closable');\n    component.closable(true);\n    component.show.updater(updateShow);\n\n    return component;\n};\n\nmodule.exports.expectedComponents = ['text', '_generic', 'list', 'templater'];\n","var cpjax = require('cpjax'),\n    iconCache = {};\n\nmodule.exports = function(options){\n\n    if(!options){\n        throw 'iconComponent must be initialised with options';\n    }\n    if(!options.resolvePath){\n        throw 'iconComponent must be passed a resolvePath function in options';\n    }\n\n    return function(fastn, component, type, settings, children){\n        settings.tagName = 'i';\n\n        component.extend('_generic', settings, children);\n\n        function setImage(svg){\n            if(!component.element){ // Componant has been destroyed\n                return;\n            }\n\n            component.element.innerHTML = svg;\n        }\n\n        function updateName(){\n            var name = component.name();\n\n            if(!component.element || !name){\n                return;\n            }\n\n            var path = options.resolvePath(name);\n\n            if(path in iconCache){\n                if(typeof iconCache[path] === 'function'){\n                    iconCache[path](setImage);\n                }else{\n                    setImage(iconCache[path]);\n                }\n                return;\n            }\n\n            iconCache[path] = function(callback){\n                iconCache[path].callbacks.push(callback);\n            };\n            iconCache[path].callbacks = [];\n            iconCache[path](setImage);\n\n            cpjax(options.resolvePath(name), function(error, svg){\n                if(error){\n                    setImage(null);\n                    return;\n                }\n\n                iconCache[path].callbacks.forEach(function(callback){\n                    callback(svg);\n                });\n\n                iconCache[path] = svg;\n            });\n        }\n\n        component.setProperty('name', fastn.property('', updateName));\n\n        return component;\n    };\n};\n\nmodule.exports.expectedComponents = ['_generic'];","var Enti = require('enti'),\n    WhatChanged = require('what-changed'),\n    same = require('same-value'),\n    firmer = require('./firmer'),\n    createBinding = require('./binding'),\n    functionEmitter = require('./functionEmitter'),\n    setPrototypeOf = require('setprototypeof'),\n    is = require('./is');\n\nvar propertyProto = Object.create(functionEmitter);\n\npropertyProto._fastn_property = true;\npropertyProto._firm = 1;\n\nfunction propertyTemplate(value){\n    if(!arguments.length){\n        return this.binding && this.binding() || this.property._value;\n    }\n\n    if(!this.destroyed){\n        if(this.binding){\n            this.binding(value);\n            return this.property;\n        }\n\n        this.valueUpdate(value);\n    }\n\n    return this.property;\n}\n\nfunction changeChecker(current, changes){\n    if(changes){\n        var changes = new WhatChanged(current, changes);\n\n        return function(value){\n            return Object.keys(changes.update(value)).length > 0;\n        };\n    }else{\n        var lastValue = current;\n        return function(newValue){\n            if(!same(lastValue, newValue)){\n                lastValue = newValue;\n                return true;\n            }\n        };\n    }\n}\n\n\nfunction propertyBinding(newBinding){\n    if(!arguments.length){\n        return this.binding;\n    }\n\n    if(!is.binding(newBinding)){\n        newBinding = createBinding(newBinding);\n    }\n\n    if(newBinding === this.binding){\n        return this.property;\n    }\n\n    if(this.binding){\n        this.binding.removeListener('change', this.valueUpdate);\n    }\n\n    this.binding = newBinding;\n\n    if(this.model){\n        this.property.attach(this.model, this.property._firm);\n    }\n\n    this.binding.on('change', this.valueUpdate);\n    this.valueUpdate(this.binding());\n\n    return this.property;\n};\n\nfunction attachProperty(object, firm){\n    if(firmer(this.property, firm)){\n        return this.property;\n    }\n\n    this.property._firm = firm;\n\n    if(!(object instanceof Object)){\n        object = {};\n    }\n\n    if(this.binding){\n        this.model = object;\n        this.binding.attach(object, 1);\n    }\n\n    if(this.property._events && 'attach' in this.property._events){\n        this.property.emit('attach', object, 1);\n    }\n\n    return this.property;\n};\n\nfunction detachProperty(firm){\n    if(firmer(this.property, firm)){\n        return this.property;\n    }\n\n    if(this.binding){\n        this.binding.removeListener('change', this.valueUpdate);\n        this.binding.detach(1);\n        this.model = null;\n    }\n\n    if(this.property._events && 'detach' in this.property._events){\n        this.property.emit('detach', 1);\n    }\n\n    return this.property;\n};\n\nfunction updateProperty(){\n    if(!this.destroyed){\n\n        if(this.property._update){\n            this.property._update(this.property._value, this.property);\n        }\n\n        this.property.emit('update', this.property._value);\n    }\n    return this.property;\n};\n\nfunction propertyUpdater(fn){\n    if(!arguments.length){\n        return this.property._update;\n    }\n    this.property._update = fn;\n    return this.property;\n};\n\nfunction destroyProperty(){\n    if(!this.destroyed){\n        this.destroyed = true;\n\n        this.property\n            .removeAllListeners('change')\n            .removeAllListeners('update')\n            .removeAllListeners('attach');\n\n        this.property.emit('destroy');\n        this.property.detach();\n        if(this.binding){\n            this.binding.destroy(true);\n        }\n    }\n    return this.property;\n};\n\nfunction propertyDestroyed(){\n    return this.destroyed;\n};\n\nfunction addPropertyTo(component, key){\n    component.setProperty(key, this.property);\n\n    return this.property;\n};\n\nfunction createProperty(currentValue, changes, updater){\n    if(typeof changes === 'function'){\n        updater = changes;\n        changes = null;\n    }\n\n    var propertyScope =\n        property = propertyTemplate.bind(propertyScope)\n        propertyScope = {\n        hasChanged: changeChecker(currentValue, changes),\n        valueUpdate: function(value){\n            property._value = value;\n            if(!propertyScope.hasChanged(value)){\n                return;\n            }\n            property.emit('change', property._value);\n            property.update();\n        }\n    };\n\n    var property = propertyScope.property = propertyTemplate.bind(propertyScope);\n\n    property._value = currentValue;\n    property._update = updater;\n\n    setPrototypeOf(property, propertyProto);\n\n    property.binding = propertyBinding.bind(propertyScope);\n    property.attach = attachProperty.bind(propertyScope);\n    property.detach = detachProperty.bind(propertyScope);\n    property.update = updateProperty.bind(propertyScope);\n    property.updater = propertyUpdater.bind(propertyScope);\n    property.destroy = destroyProperty.bind(propertyScope);\n    property.destroyed = propertyDestroyed.bind(propertyScope);\n    property.addTo = addPropertyTo.bind(propertyScope);\n\n    return property;\n};\n\nmodule.exports = createProperty;","var Enti = require('enti'),\n    is = require('./is'),\n    firmer = require('./firmer'),\n    functionEmitter = require('./functionEmitter'),\n    setPrototypeOf = require('setprototypeof'),\n    same = require('same-value');\n\nfunction fuseBinding(){\n    var args = Array.prototype.slice.call(arguments);\n\n    var bindings = args.slice(),\n        transform = bindings.pop(),\n        updateTransform,\n        resultBinding = createBinding('result'),\n        selfChanging;\n\n    resultBinding._arguments = args;\n\n    if(typeof bindings[bindings.length-1] === 'function' && !is.binding(bindings[bindings.length-1])){\n        updateTransform = transform;\n        transform = bindings.pop();\n    }\n\n    resultBinding._model.removeAllListeners();\n    resultBinding._set = function(value){\n        if(updateTransform){\n            selfChanging = true;\n            var newValue = updateTransform(value);\n            if(!same(newValue, bindings[0]())){\n                bindings[0](newValue);\n                resultBinding._change(newValue);\n            }\n            selfChanging = false;\n        }else{\n            resultBinding._change(value);\n        }\n    };\n\n    function change(){\n        if(selfChanging){\n            return;\n        }\n        resultBinding(transform.apply(null, bindings.map(function(binding){\n            return binding();\n        })));\n    }\n\n    bindings.forEach(function(binding, index){\n        if(!is.binding(binding)){\n            binding = createBinding(binding);\n            bindings.splice(index,1,binding);\n        }\n        binding.on('change', change);\n        resultBinding.on('detach', binding.detach);\n    });\n\n    var lastAttached;\n    resultBinding.on('attach', function(object){\n        selfChanging = true;\n        bindings.forEach(function(binding){\n            binding.attach(object, 1);\n        });\n        selfChanging = false;\n        if(lastAttached !== object){\n            change();\n        }\n        lastAttached = object;\n    });\n\n    return resultBinding;\n}\n\nfunction createValueBinding(){\n    var valueBinding = createBinding('value');\n    valueBinding.attach = function(){return valueBinding;};\n    valueBinding.detach = function(){return valueBinding;};\n    return valueBinding;\n}\n\nfunction bindingTemplate(newValue){\n    if(!arguments.length){\n        return this.value;\n    }\n\n    if(this.binding._fastn_binding === '.'){\n        return;\n    }\n\n    this.binding._set(newValue);\n    return this.binding;\n}\n\nfunction createBinding(path, more){\n\n    if(more){ // used instead of arguments.length for performance\n        return fuseBinding.apply(null, arguments);\n    }\n\n    if(path == null){\n        return createValueBinding();\n    }\n\n    var bindingScope = {},\n        binding = bindingScope.binding = bindingTemplate.bind(bindingScope),\n        destroyed;\n\n    setPrototypeOf(binding, functionEmitter);\n    binding.setMaxListeners(10000);\n    binding._arguments = [path];\n    binding._model = new Enti(false);\n    binding._fastn_binding = path;\n    binding._firm = -Infinity;\n\n    function modelAttachHandler(data){\n        binding._model.attach(data);\n        binding._change(binding._model.get(path));\n        binding.emit('attach', data, 1);\n    }\n\n    function modelDetachHandler(){\n        binding._model.detach();\n    }\n\n    binding.attach = function(object, firm){\n\n        // If the binding is being asked to attach loosly to an object,\n        // but it has already been defined as being firmly attached, do not attach.\n        if(firmer(binding, firm)){\n            return binding;\n        }\n\n        binding._firm = firm;\n\n        var isEnti = Enti.isEnti(object);\n\n        if(isEnti && bindingScope.attachedModel === object){\n            return binding;\n        }\n\n        if(bindingScope.attachedModel){\n            bindingScope.attachedModel.removeListener('attach', modelAttachHandler);\n            bindingScope.attachedModel.removeListener('detach', modelDetachHandler);\n            bindingScope.attachedModel = null;\n        }\n\n        if(isEnti){\n            bindingScope.attachedModel = object;\n            bindingScope.attachedModel.on('attach', modelAttachHandler);\n            bindingScope.attachedModel.on('detach', modelDetachHandler);\n            object = object._model;\n        }\n\n        if(!(object instanceof Object)){\n            object = {};\n        }\n\n        if(binding._model._model === object){\n            return binding;\n        }\n\n        modelAttachHandler(object);\n\n        return binding;\n    };\n\n    binding.detach = function(firm){\n        if(firmer(binding, firm)){\n            return binding;\n        }\n\n        bindingScope.value = undefined;\n        if(binding._model.isAttached()){\n            binding._model.detach();\n        }\n        binding.emit('detach', 1);\n        return binding;\n    };\n    binding._set = function(newValue){\n        if(same(binding._model.get(path), newValue)){\n            return;\n        }\n        if(!binding._model.isAttached()){\n            binding._model.attach(binding._model.get('.'));\n        }\n        binding._model.set(path, newValue);\n    };\n    binding._change = function(newValue){\n        bindingScope.value = newValue;\n        binding.emit('change', binding());\n    };\n    binding.clone = function(keepAttachment){\n        var newBinding = createBinding.apply(null, binding._arguments);\n\n        if(keepAttachment){\n            newBinding.attach(bindingScope.attachedModel || binding._model._model, binding._firm);\n        }\n\n        return newBinding;\n    };\n    binding.destroy = function(soft){\n        if(destroyed){\n            return;\n        }\n        if(soft && binding.listeners('change').length){\n            return;\n        }\n        destroyed = true;\n        binding.emit('destroy');\n        binding.detach();\n        binding._model.destroy();\n    };\n\n    binding.destroyed = function(){\n        return destroyed;\n    };\n\n    if(path !== '.'){\n        binding._model.on(path, binding._change);\n    }\n\n    return binding;\n}\n\nfunction from(valueOrBinding){\n    if(is.binding(valueOrBinding)){\n        return valueOrBinding;\n    }\n\n    return createBinding()(valueOrBinding);\n}\n\ncreateBinding.from = from;\n\nmodule.exports = createBinding;","var is = require('./is'),\n    GENERIC = '_generic',\n    EventEmitter = require('events').EventEmitter,\n    slice = Array.prototype.slice;\n\nfunction flatten(item){\n    return Array.isArray(item) ? item.reduce(function(result, element){\n        if(element == null){\n            return result;\n        }\n        return result.concat(flatten(element));\n    },[]) : item;\n}\n\nfunction attachProperties(object, firm){\n    for(var key in this._properties){\n        this._properties[key].attach(object, firm);\n    }\n}\n\nfunction onRender(){\n\n    // Ensure all bindings are somewhat attached just before rendering\n    this.attach(undefined, 0);\n\n    for(var key in this._properties){\n        this._properties[key].update();\n    }\n}\n\nfunction detachProperties(firm){\n    for(var key in this._properties){\n        this._properties[key].detach(firm);\n    }\n}\n\nfunction destroyProperties(){\n    for(var key in this._properties){\n        this._properties[key].destroy();\n    }\n}\n\nfunction clone(){\n    return this.fastn(this.component._type, this.component._settings, this.component._children.filter(function(child){\n            return !child._templated;\n        }).map(function(child){\n            return child.clone();\n        })\n    );\n}\n\nfunction getSetBinding(newBinding){\n    if(!arguments.length){\n        return this.binding;\n    }\n\n    if(!is.binding(newBinding)){\n        newBinding = this.fastn.binding(newBinding);\n    }\n\n    if(this.binding && this.binding !== newBinding){\n        this.binding.removeListener('change', this.emitAttach);\n        newBinding.attach(this.binding._model, this.binding._firm);\n    }\n\n    this.binding = newBinding;\n\n    this.binding.on('change', this.emitAttach);\n    this.binding.on('detach', this.emitDetach);\n\n    this.emitAttach();\n\n    return this.component;\n};\n\nfunction emitAttach(){\n    var newBound = this.binding();\n    if(newBound !== this.lastBound){\n        this.lastBound = newBound;\n        this.scope.attach(this.lastBound);\n        this.component.emit('attach', this.scope, 1);\n    }\n}\n\nfunction emitDetach(){\n    this.component.emit('detach', 1);\n}\n\nfunction getScope(){\n    return this.scope;\n}\n\nfunction destroy(){\n    if(this.destroyed){\n        return;\n    }\n    this.destroyed = true;\n\n    this.component\n        .removeAllListeners('render')\n        .removeAllListeners('attach');\n\n    this.component.emit('destroy');\n    this.component.element = null;\n    this.scope.destroy();\n    this.binding.destroy();\n\n    return this.component;\n}\n\nfunction attachComponent(object, firm){\n    this.binding.attach(object, firm);\n    return this.component;\n}\n\nfunction detachComponent(firm){\n    this.binding.detach(firm);\n    return this.component;\n}\n\nfunction isDestroyed(){\n    return this.destroyed;\n}\n\nfunction setProperty(key, property){\n\n    // Add a default property or use the one already there\n    if(!property){\n        property = this.component[key] || this.fastn.property();\n    }\n\n    this.component[key] = property;\n    this.component._properties[key] = property;\n\n    return this.component;\n}\n\nfunction extendComponent(type, settings, children){\n\n    if(type in this.types){\n        return this.component;\n    }\n\n    if(!(type in this.fastn.components)){\n\n        if(!(GENERIC in this.fastn.components)){\n            throw new Error('No component of type \"' + type + '\" is loaded');\n        }\n\n        this.fastn.components._generic(this.fastn, this.component, type, settings, children);\n\n        this.types._generic = true;\n    }else{\n\n        this.fastn.components[type](this.fastn, this.component, type, settings, children);\n    }\n\n    this.types[type] = true;\n\n    return this.component;\n};\n\nfunction isType(type){\n    return type in this.types;\n}\n\nfunction FastnComponent(fastn, type, settings, children){\n    var component = this;\n\n    var componentScope = {\n        types: {},\n        fastn: fastn,\n        component: component,\n        binding: fastn.binding('.'),\n        destroyed: false,\n        scope: new fastn.Model(false),\n        lastBound: null\n    };\n\n    componentScope.emitAttach = emitAttach.bind(componentScope);\n    componentScope.emitDetach = emitDetach.bind(componentScope);\n    componentScope.binding._default_binding = true;\n\n    component._type = type;\n    component._properties = {};\n    component._settings = settings || {};\n    component._children = children ? flatten(children) : [];\n\n    component.attach = attachComponent.bind(componentScope);\n    component.detach = detachComponent.bind(componentScope);\n    component.scope = getScope.bind(componentScope);\n    component.destroy = destroy.bind(componentScope);\n    component.destroyed = isDestroyed.bind(componentScope);\n    component.binding = getSetBinding.bind(componentScope);\n    component.setProperty = setProperty.bind(componentScope);\n    component.clone = clone.bind(componentScope);\n    component.children = slice.bind(component._children);\n    component.extend = extendComponent.bind(componentScope);\n    component.is = isType.bind(componentScope);\n\n    component.binding(componentScope.binding);\n\n    component.on('attach', attachProperties.bind(this));\n    component.on('render', onRender.bind(this));\n    component.on('detach', detachProperties.bind(this));\n    component.on('destroy', destroyProperties.bind(this));\n\n    if(fastn.debug){\n        component.on('render', function(){\n            if(component.element && typeof component.element === 'object'){\n                component.element._component = component;\n            }\n        });\n    }\n}\nFastnComponent.prototype = Object.create(EventEmitter.prototype);\nFastnComponent.prototype.constructor = FastnComponent;\nFastnComponent.prototype._fastn_component = true;\n\nmodule.exports = FastnComponent;","var FUNCTION = 'function',\n    OBJECT = 'object',\n    FASTNBINDING = '_fastn_binding',\n    FASTNPROPERTY = '_fastn_property',\n    FASTNCOMPONENT = '_fastn_component',\n    DEFAULTBINDING = '_default_binding';\n\nfunction isComponent(thing){\n    return thing && typeof thing === OBJECT && FASTNCOMPONENT in thing;\n}\n\nfunction isBindingObject(thing){\n    return thing && typeof thing === OBJECT && FASTNBINDING in thing;\n}\n\nfunction isBinding(thing){\n    return typeof thing === FUNCTION && FASTNBINDING in thing;\n}\n\nfunction isProperty(thing){\n    return typeof thing === FUNCTION && FASTNPROPERTY in thing;\n}\n\nfunction isDefaultBinding(thing){\n    return typeof thing === FUNCTION && FASTNBINDING in thing && DEFAULTBINDING in thing;\n}\n\nmodule.exports = {\n    component: isComponent,\n    bindingObject: isBindingObject,\n    binding: isBinding,\n    defaultBinding: isDefaultBinding,\n    property: isProperty\n};","function insertChild(fastn, container, child, index){\n    var currentIndex = container._children.indexOf(child),\n        newComponent = fastn.toComponent(child);\n\n    if(newComponent !== child && ~currentIndex){\n        container._children.splice(currentIndex, 1, newComponent);\n    }\n\n    if(!~currentIndex || newComponent !== child){\n        newComponent.attach(container.scope(), 1);\n    }\n\n    if(currentIndex !== index){\n        if(~currentIndex){\n            container._children.splice(currentIndex, 1);\n        }\n        container._children.splice(index, 0, newComponent);\n    }\n\n    if(container.element){\n        if(!newComponent.element){\n            newComponent.render();\n        }\n        container._insert(newComponent.element, index);\n        newComponent.emit('insert', container);\n        container.emit('childInsert', newComponent);\n    }\n}\n\nfunction getContainerElement(){\n    return this.containerElement || this.element;\n}\n\nfunction insert(child, index){\n    var childComponent = child,\n        container = this.container,\n        fastn = this.fastn;\n\n    if(index && typeof index === 'object'){\n        childComponent = Array.prototype.slice.call(arguments);\n    }\n\n    if(isNaN(index)){\n        index = container._children.length;\n    }\n\n    if(Array.isArray(childComponent)){\n        for (var i = 0; i < childComponent.length; i++) {\n            container.insert(childComponent[i], i + index);\n        }\n    }else{\n        insertChild(fastn, container, childComponent, index);\n    }\n\n    return container;\n}\n\nmodule.exports = function(fastn, component, type, settings, children){\n    component.insert = insert.bind({\n        container: component,\n        fastn: fastn\n    });\n\n    component._insert = function(element, index){\n        var containerElement = component.getContainerElement();\n        if(!containerElement){\n            return;\n        }\n\n        if(containerElement.childNodes[index] === element){\n            return;\n        }\n\n        containerElement.insertBefore(element, containerElement.childNodes[index]);\n    };\n\n    component.remove = function(childComponent){\n        var index = component._children.indexOf(childComponent);\n        if(~index){\n            component._children.splice(index,1);\n        }\n\n        childComponent.detach(1);\n\n        if(childComponent.element){\n            component._remove(childComponent.element);\n            childComponent.emit('remove', component);\n        }\n        component.emit('childRemove', childComponent);\n    };\n\n    component._remove = function(element){\n        var containerElement = component.getContainerElement();\n\n        if(!element || !containerElement || element.parentNode !== containerElement){\n            return;\n        }\n\n        containerElement.removeChild(element);\n    };\n\n    component.empty = function(){\n        while(component._children.length){\n            component.remove(component._children.pop());\n        }\n    };\n\n    component.replaceChild = function(oldChild, newChild){\n        var index = component._children.indexOf(oldChild);\n\n        if(!~index){\n            return;\n        }\n\n        component.remove(oldChild);\n        component.insert(newChild, index);\n    };\n\n    component.getContainerElement = getContainerElement.bind(component);\n\n    component.on('render', component.insert.bind(null, component._children, 0));\n\n    component.on('attach', function(model, firm){\n        for(var i = 0; i < component._children.length; i++){\n            if(fastn.isComponent(component._children[i])){\n                component._children[i].attach(model, firm);\n            }\n        }\n    });\n\n    component.on('destroy', function(data, firm){\n        for(var i = 0; i < component._children.length; i++){\n            if(fastn.isComponent(component._children[i])){\n                component._children[i].destroy(firm);\n            }\n        }\n    });\n\n    return component;\n};","var todo = [],\n    todoKeys = [],\n    scheduled,\n    updates = 0;\n\nfunction run(){\n    var startTime = Date.now();\n\n    while(todo.length && Date.now() - startTime < 16){\n        todoKeys.shift();\n        todo.shift()();\n    }\n\n    if(todo.length){\n        requestAnimationFrame(run);\n    }else{\n        scheduled = false;\n    }\n}\n\nfunction schedule(key, fn){\n    if(~todoKeys.indexOf(key)){\n        return;\n    }\n\n    todo.push(fn);\n    todoKeys.push(key);\n\n    if(!scheduled){\n        scheduled = true;\n        requestAnimationFrame(run);\n    }\n}\n\nmodule.exports = schedule;","var setify = require('setify'),\n    classist = require('classist');\n\nfunction updateTextProperty(generic, element, value){\n    if(arguments.length === 2){\n        return element.textContent;\n    }\n    element.textContent = (value == null ? '' : value);\n}\n\nmodule.exports = {\n    class: function(generic, element, value){\n        if(!generic._classist){\n            generic._classist = classist(element);\n        }\n\n        if(arguments.length < 3){\n            return generic._classist();\n        }\n\n        generic._classist(value);\n    },\n    display: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.style.display !== 'none';\n        }\n        element.style.display = value ? null : 'none';\n    },\n    disabled: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.hasAttribute('disabled');\n        }\n        if(value){\n            element.setAttribute('disabled', 'disabled');\n        }else{\n            element.removeAttribute('disabled');\n        }\n    },\n    textContent: updateTextProperty,\n    innerText: updateTextProperty,\n    innerHTML: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.innerHTML;\n        }\n        element.innerHTML = (value == null ? '' : value);\n    },\n    value: function(generic, element, value){\n        var inputType = element.type;\n\n        if(element.nodeName === 'INPUT' && inputType === 'date'){\n            if(arguments.length === 2){\n                return element.value ? new Date(element.value.replace(/-/g,'/').replace('T',' ')) : null;\n            }\n\n            value = value != null ? new Date(value) : null;\n\n            if(!value || isNaN(value)){\n                element.value = null;\n            }else{\n                element.value = [\n                    value.getFullYear(),\n                    ('0' + (value.getMonth() + 1)).slice(-2),\n                    ('0' + value.getDate()).slice(-2)\n                ].join('-');\n            }\n            return;\n        }\n\n        if(arguments.length === 2){\n            return element.value;\n        }\n        if(value === undefined){\n            value = null;\n        }\n\n        if(element.nodeName === 'PROGRESS'){\n            value = parseFloat(value) || 0;\n        }\n\n        setify(element, value);\n    },\n    max: function(generic, element, value) {\n        if(arguments.length === 2){\n            return element.value;\n        }\n\n        if(element.nodeName === 'PROGRESS'){\n            value = parseFloat(value) || 0;\n        }\n\n        element.max = value;\n    },\n    style: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.style;\n        }\n\n        for(var key in value){\n            element.style[key] = value[key];\n        }\n    }\n};","module.exports = {\n    tute : require(\"./tute.js\"),\n    time : require(\"./time.js\"),\n    activityRouter : require(\"./activityRouter\"),\n    persistence : require(\"./persistence\")\n}","//Copyright (C) 2012 Kory Nunn\r\n\r\n//Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\n//The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n//THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n/*\r\n\r\n    This code is not formatted for readability, but rather run-speed and to assist compilers.\r\n\r\n    However, the code's intention should be transparent.\r\n\r\n    *** IE SUPPORT ***\r\n\r\n    If you require this library to work in IE7, add the following after declaring crel.\r\n\r\n    var testDiv = document.createElement('div'),\r\n        testLabel = document.createElement('label');\r\n\r\n    testDiv.setAttribute('class', 'a');\r\n    testDiv['className'] !== 'a' ? crel.attrMap['class'] = 'className':undefined;\r\n    testDiv.setAttribute('name','a');\r\n    testDiv['name'] !== 'a' ? crel.attrMap['name'] = function(element, value){\r\n        element.id = value;\r\n    }:undefined;\r\n\r\n\r\n    testLabel.setAttribute('for', 'a');\r\n    testLabel['htmlFor'] !== 'a' ? crel.attrMap['for'] = 'htmlFor':undefined;\r\n\r\n\r\n\r\n*/\r\n\r\n(function (root, factory) {\r\n    if (typeof exports === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        define(factory);\r\n    } else {\r\n        root.crel = factory();\r\n    }\r\n}(this, function () {\r\n    var fn = 'function',\r\n        obj = 'object',\r\n        nodeType = 'nodeType',\r\n        textContent = 'textContent',\r\n        setAttribute = 'setAttribute',\r\n        attrMapString = 'attrMap',\r\n        isNodeString = 'isNode',\r\n        isElementString = 'isElement',\r\n        d = typeof document === obj ? document : {},\r\n        isType = function(a, type){\r\n            return typeof a === type;\r\n        },\r\n        isNode = typeof Node === fn ? function (object) {\r\n            return object instanceof Node;\r\n        } :\r\n        // in IE <= 8 Node is an object, obviously..\r\n        function(object){\r\n            return object &&\r\n                isType(object, obj) &&\r\n                (nodeType in object) &&\r\n                isType(object.ownerDocument,obj);\r\n        },\r\n        isElement = function (object) {\r\n            return crel[isNodeString](object) && object[nodeType] === 1;\r\n        },\r\n        isArray = function(a){\r\n            return a instanceof Array;\r\n        },\r\n        appendChild = function(element, child) {\r\n          if(!crel[isNodeString](child)){\r\n              child = d.createTextNode(child);\r\n          }\r\n          element.appendChild(child);\r\n        };\r\n\r\n\r\n    function crel(){\r\n        var args = arguments, //Note: assigned to a variable to assist compilers. Saves about 40 bytes in closure compiler. Has negligable effect on performance.\r\n            element = args[0],\r\n            child,\r\n            settings = args[1],\r\n            childIndex = 2,\r\n            argumentsLength = args.length,\r\n            attributeMap = crel[attrMapString];\r\n\r\n        element = crel[isElementString](element) ? element : d.createElement(element);\r\n        // shortcut\r\n        if(argumentsLength === 1){\r\n            return element;\r\n        }\r\n\r\n        if(!isType(settings,obj) || crel[isNodeString](settings) || isArray(settings)) {\r\n            --childIndex;\r\n            settings = null;\r\n        }\r\n\r\n        // shortcut if there is only one child that is a string\r\n        if((argumentsLength - childIndex) === 1 && isType(args[childIndex], 'string') && element[textContent] !== undefined){\r\n            element[textContent] = args[childIndex];\r\n        }else{\r\n            for(; childIndex < argumentsLength; ++childIndex){\r\n                child = args[childIndex];\r\n\r\n                if(child == null){\r\n                    continue;\r\n                }\r\n\r\n                if (isArray(child)) {\r\n                  for (var i=0; i < child.length; ++i) {\r\n                    appendChild(element, child[i]);\r\n                  }\r\n                } else {\r\n                  appendChild(element, child);\r\n                }\r\n            }\r\n        }\r\n\r\n        for(var key in settings){\r\n            if(!attributeMap[key]){\r\n                element[setAttribute](key, settings[key]);\r\n            }else{\r\n                var attr = attributeMap[key];\r\n                if(typeof attr === fn){\r\n                    attr(element, settings[key]);\r\n                }else{\r\n                    element[setAttribute](attr, settings[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    // Used for mapping one kind of attribute to the supported version of that in bad browsers.\r\n    crel[attrMapString] = {};\r\n\r\n    crel[isElementString] = isElement;\r\n\r\n    crel[isNodeString] = isNode;\r\n\r\n    if(typeof Proxy !== 'undefined'){\r\n        return new Proxy(crel, {\r\n            get: function(target, key){\r\n                !(key in crel) && (crel[key] = crel.bind(null, key));\r\n                return crel[key];\r\n            }\r\n        });\r\n    }\r\n\r\n    return crel;\r\n}));\r\n","var EventEmitter = require('events').EventEmitter;\n\nfunction toArray(items){\n    return Array.prototype.slice.call(items);\n}\n\nvar deepRegex = /[|.]/i;\n\nfunction matchDeep(path){\n    return (path + '').match(deepRegex);\n}\n\nfunction isWildcardPath(path){\n    var stringPath = (path + '');\n    return ~stringPath.indexOf('*');\n}\n\nfunction getTargetKey(path){\n    var stringPath = (path + '');\n    return stringPath.split('|').shift();\n}\n\nvar eventSystemVersion = 1,\n    globalKey = '_entiEventState' + eventSystemVersion\n    globalState = global[globalKey] = global[globalKey] || {\n        instances: []\n    };\n\nvar modifiedEnties = globalState.modifiedEnties = globalState.modifiedEnties || new Set(),\n    trackedObjects = globalState.trackedObjects = globalState.trackedObjects || new WeakMap();\n\nfunction leftAndRest(path){\n    var stringPath = (path + '');\n\n    // Special case when you want to filter on self (.)\n    if(stringPath.slice(0,2) === '.|'){\n        return ['.', stringPath.slice(2)];\n    }\n\n    var match = matchDeep(stringPath);\n    if(match){\n        return [stringPath.slice(0, match.index), stringPath.slice(match.index+1)];\n    }\n    return stringPath;\n}\n\nfunction isWildcardKey(key){\n    return key.charAt(0) === '*';\n}\n\nfunction isFeralcardKey(key){\n    return key === '**';\n}\n\nfunction addHandler(object, key, handler){\n    var trackedKeys = trackedObjects.get(object);\n\n    if(trackedKeys == null){\n        trackedKeys = {};\n        trackedObjects.set(object, trackedKeys);\n    }\n\n    var handlers = trackedKeys[key];\n\n    if(!handlers){\n        handlers = new Set();\n        trackedKeys[key] = handlers;\n    }\n\n    handlers.add(handler);\n}\n\nfunction removeHandler(object, key, handler){\n    var trackedKeys = trackedObjects.get(object);\n\n    if(trackedKeys == null){\n        return;\n    }\n\n    var handlers = trackedKeys[key];\n\n    if(!handlers){\n        return;\n    }\n\n    handlers.delete(handler);\n}\n\nfunction trackObjects(eventName, tracked, handler, object, key, path){\n    if(!object || typeof object !== 'object'){\n        return;\n    }\n\n    var eventKey = key === '**' ? '*' : key,\n        target = object[key],\n        targetIsObject = target && typeof target === 'object';\n\n    if(targetIsObject && tracked.has(target)){\n        return;\n    }\n\n    var handle = function(value, event, emitKey){\n        if(eventKey !== '*' && typeof object[eventKey] === 'object' && object[eventKey] !== target){\n            if(targetIsObject){\n                tracked.delete(target);\n            }\n            removeHandler(object, eventKey, handle);\n            trackObjects(eventName, tracked, handler, object, key, path);\n            return;\n        }\n\n        if(eventKey === '*'){\n            trackKeys(object, key, path);\n        }\n\n        if(!tracked.has(object)){\n            return;\n        }\n\n        if(key !== '**' || !path){\n            handler(value, event, emitKey);\n        }\n    }\n\n    function trackKeys(target, root, rest){\n        var keys = Object.keys(target);\n        for(var i = 0; i < keys.length; i++){\n            if(isFeralcardKey(root)){\n                trackObjects(eventName, tracked, handler, target, keys[i], '**' + (rest ? '.' : '') + (rest || ''));\n            }else{\n                trackObjects(eventName, tracked, handler, target, keys[i], rest);\n            }\n        }\n    }\n\n    addHandler(object, eventKey, handle);\n\n    if(!targetIsObject){\n        return;\n    }\n\n    // This would obviously be better implemented with a WeakSet,\n    // But I'm trying to keep filesize down, and I don't really want another\n    // polyfill when WeakMap works well enough for the task.\n    tracked.add(target);\n\n    if(!path){\n        return;\n    }\n\n    var rootAndRest = leftAndRest(path),\n        root,\n        rest;\n\n    if(!Array.isArray(rootAndRest)){\n        root = rootAndRest;\n    }else{\n        root = rootAndRest[0];\n        rest = rootAndRest[1];\n\n        // If the root is '.', watch for events on *\n        if(root === '.'){\n            root = '*';\n        }\n    }\n\n    if(targetIsObject && isWildcardKey(root)){\n        trackKeys(target, root, rest);\n    }\n\n    trackObjects(eventName, tracked, handler, target, root, rest);\n}\n\nvar trackedEvents = new WeakMap();\nfunction createHandler(enti, trackedObjectPaths, trackedPaths, eventName){\n    var oldModel = enti._model;\n    return function(event, emitKey){\n        trackedPaths.entis.forEach(function(enti){\n            if(enti._emittedEvents[eventName] === emitKey){\n                return;\n            }\n\n            if(enti._model !== oldModel){\n                trackedPaths.entis.delete(enti);\n                if(trackedPaths.entis.size === 0){\n                    delete trackedObjectPaths[eventName];\n                    if(!Object.keys(trackedObjectPaths).length){\n                        trackedEvents.delete(oldModel);\n                    }\n                }\n                return;\n            }\n\n            enti._emittedEvents[eventName] = emitKey;\n\n            var targetKey = getTargetKey(eventName),\n                value = isWildcardPath(targetKey) ? undefined : enti.get(targetKey);\n\n            enti.emit(eventName, value, event);\n        });\n    };\n}\n\nfunction trackPath(enti, eventName){\n    var object = enti._model,\n        trackedObjectPaths = trackedEvents.get(object);\n\n    if(!trackedObjectPaths){\n        trackedObjectPaths = {};\n        trackedEvents.set(object, trackedObjectPaths);\n    }\n\n    var trackedPaths = trackedObjectPaths[eventName];\n\n    if(!trackedPaths){\n        trackedPaths = {\n            entis: new Set(),\n            trackedObjects: new WeakSet()\n        };\n        trackedObjectPaths[eventName] = trackedPaths;\n    }else if(trackedPaths.entis.has(enti)){\n        return;\n    }\n\n    trackedPaths.entis.add(enti);\n\n    var handler = createHandler(enti, trackedObjectPaths, trackedPaths, eventName);\n\n    trackObjects(eventName, trackedPaths.trackedObjects, handler, {model:object}, 'model', eventName);\n}\n\nfunction trackPaths(enti){\n    if(!enti._events || !enti._model){\n        return;\n    }\n\n    for(var key in enti._events){\n        trackPath(enti, key);\n    }\n    modifiedEnties.delete(enti);\n}\n\nfunction emitEvent(object, key, value, emitKey){\n\n    modifiedEnties.forEach(trackPaths);\n\n    var trackedKeys = trackedObjects.get(object);\n\n    if(!trackedKeys){\n        return;\n    }\n\n    var event = {\n        value: value,\n        key: key,\n        object: object\n    };\n\n    function emitForKey(handler){\n        handler(event, emitKey);\n    }\n\n    if(trackedKeys[key]){\n        trackedKeys[key].forEach(emitForKey);\n    }\n\n    if(trackedKeys['*']){\n        trackedKeys['*'].forEach(emitForKey);\n    }\n}\n\nfunction emit(events){\n    var emitKey = {};\n    events.forEach(function(event){\n        emitEvent(event[0], event[1], event[2], emitKey);\n    });\n}\n\nfunction Enti(model){\n    var detached = model === false;\n\n    if(!model || (typeof model !== 'object' && typeof model !== 'function')){\n        model = {};\n    }\n\n    this._emittedEvents = {};\n    if(detached){\n        this._model = {};\n    }else{\n        this.attach(model);\n    }\n\n    this.on('newListener', function(){\n        modifiedEnties.add(this);\n    });\n}\nEnti.get = function(model, key){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    key = getTargetKey(key);\n\n    if(key === '.'){\n        return model;\n    }\n\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.get(model[path[0]], path[1]);\n    }\n\n    return model[key];\n};\nEnti.set = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    key = getTargetKey(key);\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.set(model[path[0]], path[1], value);\n    }\n\n    var original = model[key];\n\n    if(typeof value !== 'object' && value === original){\n        return;\n    }\n\n    var keysChanged = !(key in model);\n\n    model[key] = value;\n\n    var events = [[model, key, value]];\n\n    if(keysChanged){\n        if(Array.isArray(model)){\n            events.push([model, 'length', model.length]);\n        }\n    }\n\n    emit(events);\n};\nEnti.push = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var target;\n    if(arguments.length < 3){\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.push(model[path[0]], path[1], value);\n        }\n\n        target = model[key];\n    }\n\n    if(!Array.isArray(target)){\n        throw 'The target is not an array.';\n    }\n\n    target.push(value);\n\n    var events = [\n        [target, target.length-1, value],\n        [target, 'length', target.length]\n    ];\n\n    emit(events);\n};\nEnti.insert = function(model, key, value, index){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n\n    var target;\n    if(arguments.length < 4){\n        index = value;\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.insert(model[path[0]], path[1], value, index);\n        }\n\n        target = model[key];\n    }\n\n    if(!Array.isArray(target)){\n        throw 'The target is not an array.';\n    }\n\n    target.splice(index, 0, value);\n\n    var events = [\n        [target, index, value],\n        [target, 'length', target.length]\n    ];\n\n    emit(events);\n};\nEnti.remove = function(model, key, subKey){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.remove(model[path[0]], path[1], subKey);\n    }\n\n    // Remove a key off of an object at 'key'\n    if(subKey != null){\n        Enti.remove(model[key], subKey);\n        return;\n    }\n\n    if(key === '.'){\n        throw '. (self) is not a valid key to remove';\n    }\n\n    var events = [];\n\n    if(Array.isArray(model)){\n        model.splice(key, 1);\n        events.push([model, 'length', model.length]);\n    }else{\n        delete model[key];\n        events.push([model, key]);\n    }\n\n    emit(events);\n};\nEnti.move = function(model, key, index){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.move(model[path[0]], path[1], index);\n    }\n\n    if(key === index){\n        return;\n    }\n\n    if(!Array.isArray(model)){\n        throw 'The model is not an array.';\n    }\n\n    var item = model[key];\n\n    model.splice(key, 1);\n\n    model.splice(index - (index > key ? 0 : 1), 0, item);\n\n    emit([[model, index, item]]);\n};\nEnti.update = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var target,\n        isArray = Array.isArray(value);\n\n    if(arguments.length < 3){\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.update(model[path[0]], path[1], value);\n        }\n\n        target = model[key];\n\n        if(target == null){\n            model[key] = isArray ? [] : {};\n        }\n    }\n\n    if(typeof value !== 'object'){\n        throw 'The value is not an object.';\n    }\n\n    if(typeof target !== 'object'){\n        throw 'The target is not an object.';\n    }\n\n    var events = [],\n        updatedObjects = new WeakSet();\n\n    function updateTarget(target, value){\n        for(var key in value){\n            var currentValue = target[key];\n            if(currentValue instanceof Object && !updatedObjects.has(currentValue)){\n                updatedObjects.add(currentValue);\n                updateTarget(currentValue, value[key]);\n                continue;\n            }\n            target[key] = value[key];\n            events.push([target, key, value[key]]);\n        }\n\n        if(Array.isArray(target)){\n            events.push([target, 'length', target.length]);\n        }\n    }\n\n    updateTarget(target, value);\n\n    emit(events);\n};\nEnti.prototype = Object.create(EventEmitter.prototype);\nEnti.prototype._maxListeners = 100;\nEnti.prototype.constructor = Enti;\nEnti.prototype.attach = function(model){\n    if(this._model !== model){\n        this.detach();\n    }\n\n    modifiedEnties.add(this);\n    this._attached = true;\n    this._model = model;\n    this.emit('attach', model);\n};\nEnti.prototype.detach = function(){\n    modifiedEnties.delete(this);\n\n    this._emittedEvents = {};\n    this._model = {};\n    this._attached = false;\n    this.emit('detach');\n};\nEnti.prototype.destroy = function(){\n    this.detach();\n    this._events = null;\n    this.emit('destroy');\n};\nEnti.prototype.get = function(key){\n    return Enti.get(this._model, key);\n};\n\nEnti.prototype.set = function(key, value){\n    return Enti.set(this._model, key, value);\n};\n\nEnti.prototype.push = function(key, value){\n    return Enti.push.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.insert = function(key, value, index){\n    return Enti.insert.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.remove = function(key, subKey){\n    return Enti.remove.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.move = function(key, index){\n    return Enti.move.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.update = function(key, index){\n    return Enti.update.apply(null, [this._model].concat(toArray(arguments)));\n};\nEnti.prototype.isAttached = function(){\n    return this._attached;\n};\nEnti.prototype.attachedCount = function(){\n    return modifiedEnties.size;\n};\n\nEnti.isEnti = function(target){\n    return target && !!~globalState.instances.indexOf(target.constructor);\n};\n\nEnti.store = function(target, key, value){\n    if(arguments.length < 2){\n        return Enti.get(target, key);\n    }\n\n    Enti.set(target, key, value);\n};\n\nglobalState.instances.push(Enti);\n\nmodule.exports = Enti;\n","module.exports = {\n    home : require(\"./home\"),\n    tute : require(\"./tute\"),\n    topic : require(\"./topic\")\n\n}","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","// Is the entity firmer than the new firmness\nmodule.exports = function(entity, firm){\n    if(firm != null && (entity._firm === undefined || firm < entity._firm)){\n        return true;\n    }\n};","var EventEmitter = require('events').EventEmitter,\n    functionEmitterPrototype = function(){};\n\nfor(var key in EventEmitter.prototype){\n    functionEmitterPrototype[key] = EventEmitter.prototype[key];\n}\n\nmodule.exports = functionEmitterPrototype;","/* jshint node: true */\n'use strict';\n\n/**\n  # defaultcss\n\n  A very simple module for creating a little bit of defaultcss.  This is\n  really useful if you are creating a small JS widget that you want to be\n  completely stylable by the application implementer but would also like it\n  to look \"kind of ok\" if someone want to have a quick play.\n\n  ## How it Works\n\n  The provided css text is injected into the HTML document within the document\n  `<head>` prior to any other `<link>` or `<style>` tags.  This ensures that\n  any definitions that are made within your provided CSS have ample\n  opportunity to be overridden by user defined CSS.\n\n  ## Example Usage\n\n  <<< examples/widget.js\n\n  ## Reference\n\n  ### defaultcss\n\n  ```\n  defaultcss(label, csstext)\n  ```\n\n  Create a new default `style` element and use the provided `label` to\n  generate an id for the element \"%label%_defaultstyle\".  If an existing\n  element with that id is found, then do nothing.\n\n  If not, then create the new element and use the provided `csstext` as\n  `innerText` for th element.\n**/\nmodule.exports = function(label, text) {\n  var styleId = label + '_defaultstyle';\n\n  // look for a DOM element with the style id\n  var styleEl = document.getElementById(styleId);\n\n  // find the first <link> or <style> tag within the document head\n  var firstStyleDef = document.querySelector('link[rel=\"stylesheet\"],style');\n\n  // if we can find a DOM element with that id, then do nothing as a default\n  // style has already been applied\n  if (styleEl) {\n    return styleEl;\n  }\n\n  // otherwise, create a style element\n  styleEl = document.createElement('style');\n  styleEl.innerHTML = text;\n\n  // insert the style element, in order or preference\n  // 1. before the first style related element in the page\n  if (firstStyleDef) {\n    firstStyleDef.parentNode.insertBefore(styleEl, firstStyleDef);\n  }\n  // 2. to the end of the HEAD\n  else if (document.head) {\n    document.head.appendChild(styleEl);\n  }\n  // 3. as the first element in the body\n  else if (document.body && document.body.childNodes.length > 0) {\n    document.body.insertBefore(styleEl, document.body.childNodes[0]);\n  }\n  // 4. in the body\n  else if (document.body) {\n    document.body.appendChild(styleEl);\n  }\n\n  return styleEl;\n};\n","var doc = require('./doc'),\r\n    isList = require('./isList'),\r\n    getTargets = require('./getTargets')(doc.document),\r\n    flocProto = [];\r\n\r\nfunction Floc(items){\r\n    this.push.apply(this, items);\r\n}\r\nFloc.prototype = flocProto;\r\nflocProto.constructor = Floc;\r\n\r\nfunction floc(target){\r\n    var instance = getTargets(target);\r\n\r\n    if(!isList(instance)){\r\n        if(instance){\r\n            instance = [instance];\r\n        }else{\r\n            instance = [];\r\n        }\r\n    }\r\n    return new Floc(instance);\r\n}\r\n\r\nvar returnsSelf = 'addClass removeClass append prepend'.split(' ');\r\n\r\nfor(var key in doc){\r\n    if(typeof doc[key] === 'function'){\r\n        floc[key] = doc[key];\r\n        flocProto[key] = (function(key){\r\n            var instance = this;\r\n            // This is also extremely dodgy and fast\r\n            return function(a,b,c,d,e,f){\r\n                var result = doc[key](this, a,b,c,d,e,f);\r\n\r\n                if(result !== doc && isList(result)){\r\n                    return floc(result);\r\n                }\r\n                if(returnsSelf.indexOf(key) >=0){\r\n                    return instance;\r\n                }\r\n                return result;\r\n            };\r\n        }(key));\r\n    }\r\n}\r\nflocProto.on = function(events, target, callback){\r\n    var proxy = this;\r\n    if(typeof target === 'function'){\r\n        callback = target;\r\n        target = this;\r\n        proxy = null;\r\n    }\r\n    doc.on(events, target, callback, proxy);\r\n    return this;\r\n};\r\n\r\nflocProto.off = function(events, target, callback){\r\n    var reference = this;\r\n    if(typeof target === 'function'){\r\n        callback = target;\r\n        target = this;\r\n        reference = null;\r\n    }\r\n    doc.off(events, target, callback, reference);\r\n    return this;\r\n};\r\n\r\nflocProto.ready = function(callback){\r\n    doc.ready(callback);\r\n    return this;\r\n};\r\n\r\nflocProto.addClass = function(className){\r\n    doc.addClass(this, className);\r\n    return this;\r\n};\r\n\r\nflocProto.removeClass = function(className){\r\n    doc.removeClass(this, className);\r\n    return this;\r\n};\r\n\r\nmodule.exports = floc;","//Copyright (C) 2012 Kory Nunn\r\n\r\n//Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\n//The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n//THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n/*\r\n\r\n    This code is not formatted for readability, but rather run-speed and to assist compilers.\r\n\r\n    However, the code's intention should be transparent.\r\n\r\n    *** IE SUPPORT ***\r\n\r\n    If you require this library to work in IE7, add the following after declaring crel.\r\n\r\n    var testDiv = document.createElement('div'),\r\n        testLabel = document.createElement('label');\r\n\r\n    testDiv.setAttribute('class', 'a');\r\n    testDiv['className'] !== 'a' ? crel.attrMap['class'] = 'className':undefined;\r\n    testDiv.setAttribute('name','a');\r\n    testDiv['name'] !== 'a' ? crel.attrMap['name'] = function(element, value){\r\n        element.id = value;\r\n    }:undefined;\r\n\r\n\r\n    testLabel.setAttribute('for', 'a');\r\n    testLabel['htmlFor'] !== 'a' ? crel.attrMap['for'] = 'htmlFor':undefined;\r\n\r\n\r\n\r\n*/\r\n\r\n(function (root, factory) {\r\n    if (typeof exports === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        define(factory);\r\n    } else {\r\n        root.crel = factory();\r\n    }\r\n}(this, function () {\r\n    var fn = 'function',\r\n        obj = 'object',\r\n        nodeType = 'nodeType',\r\n        textContent = 'textContent',\r\n        setAttribute = 'setAttribute',\r\n        attrMapString = 'attrMap',\r\n        isNodeString = 'isNode',\r\n        isElementString = 'isElement',\r\n        d = typeof document === obj ? document : {},\r\n        isType = function(a, type){\r\n            return typeof a === type;\r\n        },\r\n        isNode = typeof Node === fn ? function (object) {\r\n            return object instanceof Node;\r\n        } :\r\n        // in IE <= 8 Node is an object, obviously..\r\n        function(object){\r\n            return object &&\r\n                isType(object, obj) &&\r\n                (nodeType in object) &&\r\n                isType(object.ownerDocument,obj);\r\n        },\r\n        isElement = function (object) {\r\n            return crel[isNodeString](object) && object[nodeType] === 1;\r\n        },\r\n        isArray = function(a){\r\n            return a instanceof Array;\r\n        },\r\n        appendChild = function(element, child) {\r\n          if(!crel[isNodeString](child)){\r\n              child = d.createTextNode(child);\r\n          }\r\n          element.appendChild(child);\r\n        };\r\n\r\n\r\n    function crel(){\r\n        var args = arguments, //Note: assigned to a variable to assist compilers. Saves about 40 bytes in closure compiler. Has negligable effect on performance.\r\n            element = args[0],\r\n            child,\r\n            settings = args[1],\r\n            childIndex = 2,\r\n            argumentsLength = args.length,\r\n            attributeMap = crel[attrMapString];\r\n\r\n        element = crel[isElementString](element) ? element : d.createElement(element);\r\n        // shortcut\r\n        if(argumentsLength === 1){\r\n            return element;\r\n        }\r\n\r\n        if(!isType(settings,obj) || crel[isNodeString](settings) || isArray(settings)) {\r\n            --childIndex;\r\n            settings = null;\r\n        }\r\n\r\n        // shortcut if there is only one child that is a string\r\n        if((argumentsLength - childIndex) === 1 && isType(args[childIndex], 'string') && element[textContent] !== undefined){\r\n            element[textContent] = args[childIndex];\r\n        }else{\r\n            for(; childIndex < argumentsLength; ++childIndex){\r\n                child = args[childIndex];\r\n\r\n                if(child == null){\r\n                    continue;\r\n                }\r\n\r\n                if (isArray(child)) {\r\n                  for (var i=0; i < child.length; ++i) {\r\n                    appendChild(element, child[i]);\r\n                  }\r\n                } else {\r\n                  appendChild(element, child);\r\n                }\r\n            }\r\n        }\r\n\r\n        for(var key in settings){\r\n            if(!attributeMap[key]){\r\n                element[setAttribute](key, settings[key]);\r\n            }else{\r\n                var attr = attributeMap[key];\r\n                if(typeof attr === fn){\r\n                    attr(element, settings[key]);\r\n                }else{\r\n                    element[setAttribute](attr, settings[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    // Used for mapping one kind of attribute to the supported version of that in bad browsers.\r\n    crel[attrMapString] = {};\r\n\r\n    crel[isElementString] = isElement;\r\n\r\n    crel[isNodeString] = isNode;\r\n\r\n    if(typeof Proxy !== 'undefined'){\r\n        return new Proxy(crel, {\r\n            get: function(target, key){\r\n                !(key in crel) && (crel[key] = crel.bind(null, key));\r\n                return crel[key];\r\n            }\r\n        });\r\n    }\r\n\r\n    return crel;\r\n}));\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","\"use strict\";\n\n/* global module, define */\n\nfunction mapEach(map, operation){\n  var keys = map.keys();\n  var next;\n  while(!(next = keys.next()).done) {\n    operation(map.get(next.value), next.value, map);\n  }\n}\n\nvar Multimap = (function() {\n  var mapCtor;\n  if (typeof Map !== 'undefined') {\n    mapCtor = Map;\n  }\n\n  function Multimap(iterable) {\n    var self = this;\n\n    self._map = mapCtor;\n\n    if (Multimap.Map) {\n      self._map = Multimap.Map;\n    }\n\n    self._ = self._map ? new self._map() : {};\n\n    if (iterable) {\n      iterable.forEach(function(i) {\n        self.set(i[0], i[1]);\n      });\n    }\n  }\n\n  /**\n   * @param {Object} key\n   * @return {Array} An array of values, undefined if no such a key;\n   */\n  Multimap.prototype.get = function(key) {\n    return this._map ? this._.get(key) : this._[key];\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object} val...\n   */\n  Multimap.prototype.set = function(key, val) {\n    var args = Array.prototype.slice.call(arguments);\n\n    key = args.shift();\n\n    var entry = this.get(key);\n    if (!entry) {\n      entry = [];\n      if (this._map)\n        this._.set(key, entry);\n      else\n        this._[key] = entry;\n    }\n\n    Array.prototype.push.apply(entry, args);\n    return this;\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object=} val\n   * @return {boolean} true if any thing changed\n   */\n  Multimap.prototype.delete = function(key, val) {\n    if (!this.has(key))\n      return false;\n\n    if (arguments.length == 1) {\n      this._map ? (this._.delete(key)) : (delete this._[key]);\n      return true;\n    } else {\n      var entry = this.get(key);\n      var idx = entry.indexOf(val);\n      if (idx != -1) {\n        entry.splice(idx, 1);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object=} val\n   * @return {boolean} whether the map contains 'key' or 'key=>val' pair\n   */\n  Multimap.prototype.has = function(key, val) {\n    var hasKey = this._map ? this._.has(key) : this._.hasOwnProperty(key);\n\n    if (arguments.length == 1 || !hasKey)\n      return hasKey;\n\n    var entry = this.get(key) || [];\n    return entry.indexOf(val) != -1;\n  };\n\n\n  /**\n   * @return {Array} all the keys in the map\n   */\n  Multimap.prototype.keys = function() {\n    if (this._map)\n      return makeIterator(this._.keys());\n\n    return makeIterator(Object.keys(this._));\n  };\n\n  /**\n   * @return {Array} all the values in the map\n   */\n  Multimap.prototype.values = function() {\n    var vals = [];\n    this.forEachEntry(function(entry) {\n      Array.prototype.push.apply(vals, entry);\n    });\n\n    return makeIterator(vals);\n  };\n\n  /**\n   *\n   */\n  Multimap.prototype.forEachEntry = function(iter) {\n    mapEach(this, iter);\n  };\n\n  Multimap.prototype.forEach = function(iter) {\n    var self = this;\n    self.forEachEntry(function(entry, key) {\n      entry.forEach(function(item) {\n        iter(item, key, self);\n      });\n    });\n  };\n\n\n  Multimap.prototype.clear = function() {\n    if (this._map) {\n      this._.clear();\n    } else {\n      this._ = {};\n    }\n  };\n\n  Object.defineProperty(\n    Multimap.prototype,\n    \"size\", {\n      configurable: false,\n      enumerable: true,\n      get: function() {\n        var total = 0;\n\n        mapEach(this, function(value){\n          total += value.length;\n        });\n\n        return total;\n      }\n    });\n\n  var safariNext;\n\n  try{\n    safariNext = new Function('iterator', 'makeIterator', 'var keysArray = []; for(var key of iterator){keysArray.push(key);} return makeIterator(keysArray).next;');\n  }catch(error){\n    // for of not implemented;\n  }\n\n  function makeIterator(iterator){\n    if(Array.isArray(iterator)){\n      var nextIndex = 0;\n\n      return {\n        next: function(){\n          return nextIndex < iterator.length ?\n            {value: iterator[nextIndex++], done: false} :\n          {done: true};\n        }\n      };\n    }\n\n    // Only an issue in safari\n    if(!iterator.next && safariNext){\n      iterator.next = safariNext(iterator, makeIterator);\n    }\n\n    return iterator;\n  }\n\n  return Multimap;\n})();\n\n\nif(typeof exports === 'object' && module && module.exports)\n  module.exports = Multimap;\nelse if(typeof define === 'function' && define.amd)\n  define(function() { return Multimap; });\n","function flatMerge(a,b){\n    if(!b || typeof b !== 'object'){\n        b = {};\n    }\n\n    if(!a || typeof a !== 'object'){\n        a = new b.constructor();\n    }\n\n    var result = new a.constructor(),\n        aKeys = Object.keys(a),\n        bKeys = Object.keys(b);\n\n    for(var i = 0; i < aKeys.length; i++){\n        result[aKeys[i]] = a[aKeys[i]];\n    }\n\n    for(var i = 0; i < bKeys.length; i++){\n        result[bKeys[i]] = b[bKeys[i]];\n    }\n\n    return result;\n}\n\nmodule.exports = flatMerge;","var Ajax = require('simple-ajax');\n\nmodule.exports = function(settings, callback){\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        throw 'settings must be a string or object';\n    }\n\n    if(typeof callback !== 'function'){\n        throw 'cpjax must be passed a callback as the second parameter';\n    }\n\n    var ajax = new Ajax(settings);\n\n    ajax.on('success', function(event, data) {\n        callback(null, data, event);\n    });\n    ajax.on('error', function(event) {\n        callback(new Error(event.target.responseText), null, event);\n    });\n\n    ajax.send();\n\n    return ajax;\n};","module.exports = function isSame(a, b){\n    if(a === b){\n        return true;\n    }\n\n    if(\n        typeof a !== typeof b ||\n        typeof a === 'object' &&\n        !(a instanceof Date && b instanceof Date)\n    ){\n        return false;\n    }\n\n    return String(a) === String(b);\n};","module.exports = Object.setPrototypeOf || ({__proto__:[]} instanceof Array ? setProtoOf : mixinProperties);\n\nfunction setProtoOf(obj, proto) {\n\tobj.__proto__ = proto;\n}\n\nfunction mixinProperties(obj, proto) {\n\tfor (var prop in proto) {\n\t\tobj[prop] = proto[prop];\n\t}\n}\n","var clone = require('clone'),\n    deepEqual = require('deep-equal');\n\nfunction keysAreDifferent(keys1, keys2){\n    if(keys1 === keys2){\n        return;\n    }\n    if(!keys1 || !keys2 || keys1.length !== keys2.length){\n        return true;\n    }\n    for(var i = 0; i < keys1.length; i++){\n        if(!~keys2.indexOf(keys1[i])){\n            return true;\n        }\n    }\n}\n\nfunction getKeys(value){\n    if(!value || typeof value !== 'object'){\n        return;\n    }\n\n    return Object.keys(value);\n}\n\nfunction WhatChanged(value, changesToTrack){\n    this._changesToTrack = {};\n\n    if(changesToTrack == null){\n        changesToTrack = 'value type keys structure reference';\n    }\n\n    if(typeof changesToTrack !== 'string'){\n        throw 'changesToTrack must be of type string';\n    }\n\n    changesToTrack = changesToTrack.split(' ');\n\n    for (var i = 0; i < changesToTrack.length; i++) {\n        this._changesToTrack[changesToTrack[i]] = true;\n    };\n\n    this.update(value);\n}\nWhatChanged.prototype.update = function(value){\n    var result = {},\n        changesToTrack = this._changesToTrack,\n        newKeys = getKeys(value);\n\n    if('value' in changesToTrack && value+'' !== this._lastReference+''){\n        result.value = true;\n    }\n    if(\n        'type' in changesToTrack && typeof value !== typeof this._lastValue ||\n        (value === null || this._lastValue === null) && this.value !== this._lastValue // typeof null === 'object'\n    ){\n        result.type = true;\n    }\n    if('keys' in changesToTrack && keysAreDifferent(this._lastKeys, getKeys(value))){\n        result.keys = true;\n    }\n\n    if(value !== null && typeof value === 'object' || typeof value === 'function'){\n        var lastValue = this._lastValue;\n\n        if('shallowStructure' in changesToTrack && (!lastValue || typeof lastValue !== 'object' || Object.keys(value).some(function(key, index){\n            return value[key] !== lastValue[key];\n        }))){\n            result.shallowStructure = true;\n        }\n        if('structure' in changesToTrack && !deepEqual(value, lastValue)){\n            result.structure = true;\n        }\n        if('reference' in changesToTrack && value !== this._lastReference){\n            result.reference = true;\n        }\n    }\n\n    this._lastValue = 'structure' in changesToTrack ? clone(value) : 'shallowStructure' in changesToTrack ? clone(value, true, 1): value;\n    this._lastReference = value;\n    this._lastKeys = newKeys;\n\n    return result;\n};\n\nmodule.exports = WhatChanged;","var doc = {\r\n    document: typeof document !== 'undefined' ? document : null,\r\n    setDocument: function(d){\r\n        this.document = d;\r\n    }\r\n};\r\n\r\nvar arrayProto = [],\r\n    isList = require('./isList'),\r\n    getTargets = require('./getTargets')(doc.document),\r\n    getTarget = require('./getTarget')(doc.document),\r\n    space = ' ';\r\n\r\n\r\n///[README.md]\r\n\r\nfunction isIn(array, item){\r\n    for(var i = 0; i < array.length; i++) {\r\n        if(item === array[i]){\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .find\r\n\r\n    finds elements that match the query within the scope of target\r\n\r\n        //fluent\r\n        doc(target).find(query);\r\n\r\n        //legacy\r\n        doc.find(target, query);\r\n*/\r\n\r\nfunction find(target, query){\r\n    target = getTargets(target);\r\n    if(query == null){\r\n        return target;\r\n    }\r\n\r\n    if(isList(target)){\r\n        var results = [];\r\n        for (var i = 0; i < target.length; i++) {\r\n            var subResults = doc.find(target[i], query);\r\n            for(var j = 0; j < subResults.length; j++) {\r\n                if(!isIn(results, subResults[j])){\r\n                    results.push(subResults[j]);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n\r\n    return target ? target.querySelectorAll(query) : [];\r\n}\r\n\r\n/**\r\n\r\n    ## .findOne\r\n\r\n    finds the first element that matches the query within the scope of target\r\n\r\n        //fluent\r\n        doc(target).findOne(query);\r\n\r\n        //legacy\r\n        doc.findOne(target, query);\r\n*/\r\n\r\nfunction findOne(target, query){\r\n    target = getTarget(target);\r\n    if(query == null){\r\n        return target;\r\n    }\r\n\r\n    if(isList(target)){\r\n        var result;\r\n        for (var i = 0; i < target.length; i++) {\r\n            result = findOne(target[i], query);\r\n            if(result){\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return target ? target.querySelector(query) : null;\r\n}\r\n\r\n/**\r\n\r\n    ## .closest\r\n\r\n    recurses up the DOM from the target node, checking if the current element matches the query\r\n\r\n        //fluent\r\n        doc(target).closest(query);\r\n\r\n        //legacy\r\n        doc.closest(target, query);\r\n*/\r\n\r\nfunction closest(target, query){\r\n    target = getTarget(target);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    while(\r\n        target &&\r\n        target.ownerDocument &&\r\n        !is(target, query)\r\n    ){\r\n        target = target.parentNode;\r\n    }\r\n\r\n    return target === doc.document && target !== query ? null : target;\r\n}\r\n\r\n/**\r\n\r\n    ## .is\r\n\r\n    returns true if the target element matches the query\r\n\r\n        //fluent\r\n        doc(target).is(query);\r\n\r\n        //legacy\r\n        doc.is(target, query);\r\n*/\r\n\r\nfunction is(target, query){\r\n    target = getTarget(target);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(!target.ownerDocument || typeof query !== 'string'){\r\n        return target === query;\r\n    }\r\n\r\n    if(target === query){\r\n        return true;\r\n    }\r\n\r\n    var parentless = !target.parentNode;\r\n\r\n    if(parentless){\r\n        // Give the element a parent so that .querySelectorAll can be used\r\n        document.createDocumentFragment().appendChild(target);\r\n    }\r\n\r\n    var result = arrayProto.indexOf.call(find(target.parentNode, query), target) >= 0;\r\n\r\n    if(parentless){\r\n        target.parentNode.removeChild(target);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n\r\n    ## .addClass\r\n\r\n    adds classes to the target (space separated string or array)\r\n\r\n        //fluent\r\n        doc(target).addClass(query);\r\n\r\n        //legacy\r\n        doc.addClass(target, query);\r\n*/\r\n\r\nfunction addClass(target, classes){\r\n    target = getTargets(target);\r\n\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            addClass(target[i], classes);\r\n        }\r\n        return this;\r\n    }\r\n    if(!classes){\r\n        return this;\r\n    }\r\n\r\n    var classes = Array.isArray(classes) ? classes : classes.split(space),\r\n        currentClasses = target.classList ? null : target.className.split(space);\r\n\r\n    for(var i = 0; i < classes.length; i++){\r\n        var classToAdd = classes[i];\r\n        if(!classToAdd || classToAdd === space){\r\n            continue;\r\n        }\r\n        if(target.classList){\r\n            target.classList.add(classToAdd);\r\n        } else if(!currentClasses.indexOf(classToAdd)>=0){\r\n            currentClasses.push(classToAdd);\r\n        }\r\n    }\r\n    if(!target.classList){\r\n        target.className = currentClasses.join(space);\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n\r\n    ## .removeClass\r\n\r\n    removes classes from the target (space separated string or array)\r\n\r\n        //fluent\r\n        doc(target).removeClass(query);\r\n\r\n        //legacy\r\n        doc.removeClass(target, query);\r\n*/\r\n\r\nfunction removeClass(target, classes){\r\n    target = getTargets(target);\r\n\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            removeClass(target[i], classes);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    if(!classes){\r\n        return this;\r\n    }\r\n\r\n    var classes = Array.isArray(classes) ? classes : classes.split(space),\r\n        currentClasses = target.classList ? null : target.className.split(space);\r\n\r\n    for(var i = 0; i < classes.length; i++){\r\n        var classToRemove = classes[i];\r\n        if(!classToRemove || classToRemove === space){\r\n            continue;\r\n        }\r\n        if(target.classList){\r\n            target.classList.remove(classToRemove);\r\n            continue;\r\n        }\r\n        var removeIndex = currentClasses.indexOf(classToRemove);\r\n        if(removeIndex >= 0){\r\n            currentClasses.splice(removeIndex, 1);\r\n        }\r\n    }\r\n    if(!target.classList){\r\n        target.className = currentClasses.join(space);\r\n    }\r\n    return this;\r\n}\r\n\r\nfunction addEvent(settings){\r\n    var target = getTarget(settings.target);\r\n    if(target){\r\n        target.addEventListener(settings.event, settings.callback, false);\r\n    }else{\r\n        console.warn('No elements matched the selector, so no events were bound.');\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .on\r\n\r\n    binds a callback to a target when a DOM event is raised.\r\n\r\n        //fluent\r\n        doc(target/proxy).on(events, target[optional], callback);\r\n\r\n    note: if a target is passed to the .on function, doc's target will be used as the proxy.\r\n\r\n        //legacy\r\n        doc.on(events, target, query, proxy[optional]);\r\n*/\r\n\r\nfunction on(events, target, callback, proxy){\r\n\r\n    proxy = getTargets(proxy);\r\n\r\n    if(!proxy){\r\n        target = getTargets(target);\r\n        // handles multiple targets\r\n        if(isList(target)){\r\n            var multiRemoveCallbacks = [];\r\n            for (var i = 0; i < target.length; i++) {\r\n                multiRemoveCallbacks.push(on(events, target[i], callback, proxy));\r\n            }\r\n            return function(){\r\n                while(multiRemoveCallbacks.length){\r\n                    multiRemoveCallbacks.pop();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    // handles multiple proxies\r\n    // Already handles multiple proxies and targets,\r\n    // because the target loop calls this loop.\r\n    if(isList(proxy)){\r\n        var multiRemoveCallbacks = [];\r\n        for (var i = 0; i < proxy.length; i++) {\r\n            multiRemoveCallbacks.push(on(events, target, callback, proxy[i]));\r\n        }\r\n        return function(){\r\n            while(multiRemoveCallbacks.length){\r\n                multiRemoveCallbacks.pop();\r\n            }\r\n        };\r\n    }\r\n\r\n    var removeCallbacks = [];\r\n\r\n    if(typeof events === 'string'){\r\n        events = events.split(space);\r\n    }\r\n\r\n    for(var i = 0; i < events.length; i++){\r\n        var eventSettings = {};\r\n        if(proxy){\r\n            if(proxy === true){\r\n                proxy = doc.document;\r\n            }\r\n            eventSettings.target = proxy;\r\n            eventSettings.callback = function(event){\r\n                var closestTarget = closest(event.target, target);\r\n                if(closestTarget){\r\n                    callback(event, closestTarget);\r\n                }\r\n            };\r\n        }else{\r\n            eventSettings.target = target;\r\n            eventSettings.callback = callback;\r\n        }\r\n\r\n        eventSettings.event = events[i];\r\n\r\n        addEvent(eventSettings);\r\n\r\n        removeCallbacks.push(eventSettings);\r\n    }\r\n\r\n    return function(){\r\n        while(removeCallbacks.length){\r\n            var removeCallback = removeCallbacks.pop();\r\n            getTarget(removeCallback.target).removeEventListener(removeCallback.event, removeCallback.callback);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .off\r\n\r\n    removes events assigned to a target.\r\n\r\n        //fluent\r\n        doc(target/proxy).off(events, target[optional], callback);\r\n\r\n    note: if a target is passed to the .on function, doc's target will be used as the proxy.\r\n\r\n        //legacy\r\n        doc.off(events, target, callback, proxy);\r\n*/\r\n\r\nfunction off(events, target, callback, proxy){\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            off(events, target[i], callback, proxy);\r\n        }\r\n        return this;\r\n    }\r\n    if(proxy instanceof Array){\r\n        for (var i = 0; i < proxy.length; i++) {\r\n            off(events, target, callback, proxy[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    if(typeof events === 'string'){\r\n        events = events.split(space);\r\n    }\r\n\r\n    if(typeof callback !== 'function'){\r\n        proxy = callback;\r\n        callback = null;\r\n    }\r\n\r\n    proxy = proxy ? getTarget(proxy) : doc.document;\r\n\r\n    var targets = typeof target === 'string' ? find(target, proxy) : [target];\r\n\r\n    for(var targetIndex = 0; targetIndex < targets.length; targetIndex++){\r\n        var currentTarget = targets[targetIndex];\r\n\r\n        for(var i = 0; i < events.length; i++){\r\n            currentTarget.removeEventListener(events[i], callback);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n\r\n    ## .append\r\n\r\n    adds elements to a target\r\n\r\n        //fluent\r\n        doc(target).append(children);\r\n\r\n        //legacy\r\n        doc.append(target, children);\r\n*/\r\n\r\nfunction append(target, children){\r\n    var target = getTarget(target),\r\n        children = getTarget(children);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(isList(children)){\r\n        for (var i = 0; i < children.length; i++) {\r\n            append(target, children[i]);\r\n        }\r\n        return;\r\n    }\r\n\r\n    target.appendChild(children);\r\n}\r\n\r\n/**\r\n\r\n    ## .prepend\r\n\r\n    adds elements to the front of a target\r\n\r\n        //fluent\r\n        doc(target).prepend(children);\r\n\r\n        //legacy\r\n        doc.prepend(target, children);\r\n*/\r\n\r\nfunction prepend(target, children){\r\n    var target = getTarget(target),\r\n        children = getTarget(children);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(isList(children)){\r\n        //reversed because otherwise the would get put in in the wrong order.\r\n        for (var i = children.length -1; i; i--) {\r\n            prepend(target, children[i]);\r\n        }\r\n        return;\r\n    }\r\n\r\n    target.insertBefore(children, target.firstChild);\r\n}\r\n\r\n/**\r\n\r\n    ## .isVisible\r\n\r\n    checks if an element or any of its parents display properties are set to 'none'\r\n\r\n        //fluent\r\n        doc(target).isVisible();\r\n\r\n        //legacy\r\n        doc.isVisible(target);\r\n*/\r\n\r\nfunction isVisible(target){\r\n    var target = getTarget(target);\r\n    if(!target){\r\n        return;\r\n    }\r\n    if(isList(target)){\r\n        var i = -1;\r\n\r\n        while (target[i++] && isVisible(target[i])) {}\r\n        return target.length >= i;\r\n    }\r\n    while(target.parentNode && target.style.display !== 'none'){\r\n        target = target.parentNode;\r\n    }\r\n\r\n    return target === doc.document;\r\n}\r\n\r\n/**\r\n\r\n    ## .indexOfElement\r\n\r\n    returns the index of the element within it's parent element.\r\n\r\n        //fluent\r\n        doc(target).indexOfElement();\r\n\r\n        //legacy\r\n        doc.indexOfElement(target);\r\n\r\n*/\r\n\r\nfunction indexOfElement(target) {\r\n    target = getTargets(target);\r\n    if(!target){\r\n        return;\r\n    }\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    var i = -1;\r\n\r\n    var parent = target.parentElement;\r\n\r\n    if(!parent){\r\n        return i;\r\n    }\r\n\r\n    while(parent.children[++i] !== target){}\r\n\r\n    return i;\r\n}\r\n\r\n\r\n/**\r\n\r\n    ## .ready\r\n\r\n    call a callback when the document is ready.\r\n\r\n    returns -1 if there is no parentElement on the target.\r\n\r\n        //fluent\r\n        doc().ready(callback);\r\n\r\n        //legacy\r\n        doc.ready(callback);\r\n*/\r\n\r\nfunction ready(callback){\r\n    if(doc.document && (doc.document.readyState === 'complete' || doc.document.readyState === 'interactive')){\r\n        callback();\r\n    }else if(window.attachEvent){\r\n        document.attachEvent(\"onreadystatechange\", callback);\r\n        window.attachEvent(\"onLoad\",callback);\r\n    }else if(document.addEventListener){\r\n        document.addEventListener(\"DOMContentLoaded\",callback,false);\r\n    }\r\n}\r\n\r\ndoc.find = find;\r\ndoc.findOne = findOne;\r\ndoc.closest = closest;\r\ndoc.is = is;\r\ndoc.addClass = addClass;\r\ndoc.removeClass = removeClass;\r\ndoc.off = off;\r\ndoc.on = on;\r\ndoc.append = append;\r\ndoc.prepend = prepend;\r\ndoc.isVisible = isVisible;\r\ndoc.ready = ready;\r\ndoc.indexOfElement = indexOfElement;\r\n\r\nmodule.exports = doc;","module.exports = function isList(object){\r\n    return object != null && typeof object === 'object' && 'length' in object && !('nodeType' in object) && object.self != object; // in IE8, window.self is window, but it is not === window, but it is == window......... WTF!?\r\n}","\nvar singleClass = /^\\.\\w+$/,\n    singleId = /^#\\w+$/,\n    singleTag = /^\\w+$/;\n\nmodule.exports = function(document){\n    return function getTargets(target){\n        if(typeof target === 'string'){\n            if(singleId.exec(target)){\n                // If you have more than 1 of the same id in your page,\n                // thats your own stupid fault.\n                return [document.getElementById(target.slice(1))];\n            }\n            if(singleTag.exec(target)){\n                return document.getElementsByTagName(target);\n            }\n            if(singleClass.exec(target)){\n                return document.getElementsByClassName(target.slice(1));\n            }\n            return document.querySelectorAll(target);\n        }\n\n        return target;\n    };\n};","var naturalSelection = require('natural-selection');\n\nmodule.exports = function(element, value){\n    var canSet = naturalSelection(element) && element === document.activeElement;\n\n    if (canSet) {\n        var start = element.selectionStart,\n            end = element.selectionEnd;\n\n        element.value = value;\n        element.setSelectionRange(start, end);\n    } else {\n        element.value = value;\n    }\n};\n","module.exports = function(element){\n    var lastClasses = [];\n\n    return function(classes){\n\n        if(!arguments.length){\n            return lastClasses.join(' ');\n        }\n\n        function cleanClassName(result, className){\n            if(typeof className === 'string' && className.match(/\\s/)){\n                className = className.split(' ');\n            }\n\n            if(Array.isArray(className)){\n                return result.concat(className.reduce(cleanClassName, []));\n            }\n\n            if(className != null && className !== '' && typeof className !== 'boolean'){\n                result.push(String(className).trim());\n            }\n\n            return result;\n        }\n\n        var newClasses = cleanClassName([], classes),\n            currentClasses = element.className ? element.className.split(' ') : [];\n\n        lastClasses.map(function(className){\n            if(!className){\n                return;\n            }\n\n            var index = currentClasses.indexOf(className);\n\n            if(~index){\n                currentClasses.splice(index, 1);\n            }\n        });\n\n        currentClasses = currentClasses.concat(newClasses);\n        lastClasses = newClasses;\n\n        element.className = currentClasses.join(' ');\n    };\n};\n","var fastn = require(\"../fastn\"),\n    debug = require(\"debug\")('tutorme:app.time'),\n    start = new Date(),\n    startMil = start.getTime(),\n    h = start.getHours(), \n    m = ( '00' + + Math.floor( start.getMinutes() )).slice(-2) ,\n    _time = (h > 12) ? (h-12 + ':' + m +' PM') : (h + ':' + m +' AM'),\n    now = 0,\n    fiveMin = 1000 * 60 * 5,\n    thirtySec = 1000 * 30;\n\nvar timeModel = new fastn.Model({\n    hours: '00',\n    minutes: '00',\n    startTime: _time,\n    currentTime: startMil,\n    elapsedTime: 0,\n    fiveMinCounter: fiveMin,\n    thirtySecCounter: thirtySec,\n    timeIncrement: 1\n});\n\n\nvar timeData = timeModel.get('.'),\n        nextTime = timeData.currentTime + ( timeData.timeIncrement * 60000 ),\n        timeUpdate = new Date(nextTime);\n\n        timeModel.update({\n            fiveMinCounter : timeData.fiveMinCounter - 10000, \n            currentTime: nextTime\n        })\n\nmodule.exports = {\n    timeModel : timeModel\n}","var fastn = require(\"../fastn\"),\n    debug = require(\"debug\")('tutorme:app.tute');\n\nvar tuteModel = new fastn.Model({\n    currentTopic: {\n        id : '10',\n        title: 'Admin & Ground rules',\n        summary: 'Respect'\n    },\n    currentTute: {\n        id : '01',\n        tutor: 'Sholto Maud',\n        tutorId: '4235530',\n        email: 'uqsmaud@uq.edu.au',\n        startDate: new Date(\"2016-03-01T11:00:00\"),\n        endTime: '',\n        title: 'Philosophy of Science',\n        courseId: '1001',\n        topics: [\n            {\n                title: 'Admin & Ground rules',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 10,\n            },{\n                title: 'Introduction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 11\n            },{\n                title: 'Induction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 12\n            },{\n                title: 'Deduction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 13\n            },{\n                title: 'Falsification',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 14\n            },{\n                title: 'Questions',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 15\n            }\n\n        ],\n        comprehensionLog: []\n    },\n    topics: [\n        {\n                title: 'Admin & Ground rules',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 10,\n            },{\n                title: 'Introduction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 11\n            },{\n                title: 'Induction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 12\n            },{\n                title: 'Deduction',\n                comprehende : 0,\n                nonComprehende : 0,\n                id: 13\n            },{\n                title: 'Falsification',\n                id: 14\n            },{\n                title: 'Questions',\n                id: 15\n            }\n    ],\n    tutes : [\n        {\n            id : '01',\n            tutor: 'Sholto Maud',\n            tutorId: '4235530',\n            startDate: new Date(\"2016-03-01T11:00:00\"),\n            endTime: '',\n            title: 'Philosophy of Science',\n            courseId: '1001'\n        },{\n            id: '02',\n            tutor: 'Sholto Maud',\n            tutorId: '4235530',\n            startDate: new Date(\"2016-03-01T11:00:00\"),\n            endTime: '',\n            title: 'Experimental Philosophy',\n            courseId: '1002'\n        }\n    ]\n});\n\nmodule.exports = {\n    tuteModel : tuteModel\n}","var EventEmitter = require('events').EventEmitter,\n    queryString = require('query-string');\n\nfunction tryParseJson(data){\n    try{\n        return JSON.parse(data);\n    }catch(error){\n        return error;\n    }\n}\n\nfunction timeout(){\n   this.request.abort();\n   this.emit('timeout');\n}\n\nfunction Ajax(settings){\n    var queryStringData,\n        ajax = this;\n\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        settings = {};\n    }\n\n    ajax.settings = settings;\n    ajax.request = new window.XMLHttpRequest();\n    ajax.settings.method = ajax.settings.method || 'get';\n\n    if(ajax.settings.cors){\n        if ('withCredentials' in ajax.request) {\n            ajax.request.withCredentials = !!settings.withCredentials;\n        } else if (typeof XDomainRequest !== 'undefined') {\n            // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n            ajax.request = new window.XDomainRequest();\n        } else {\n            // Otherwise, CORS is not supported by the browser.\n            ajax.emit('error', new Error('Cors is not supported by this browser'));\n        }\n    }\n\n    if(ajax.settings.cache === false){\n        ajax.settings.data = ajax.settings.data || {};\n        ajax.settings.data._ = new Date().getTime();\n    }\n\n    if(ajax.settings.method.toLowerCase() === 'get' && typeof ajax.settings.data === 'object'){\n        var urlParts = ajax.settings.url.split('?');\n\n        queryStringData = queryString.parse(urlParts[1]);\n\n        for(var key in ajax.settings.data){\n            queryStringData[key] = ajax.settings.data[key];\n        }\n\n        ajax.settings.url = urlParts[0] + '?' + queryString.stringify(queryStringData);\n        ajax.settings.data = null;\n    }\n\n    ajax.request.addEventListener('progress', function(event){\n        ajax.emit('progress', event);\n    }, false);\n\n    ajax.request.addEventListener('load', function(event){\n        var data = event.target.responseText;\n\n        if(ajax.settings.dataType && ajax.settings.dataType.toLowerCase() === 'json'){\n            if(data === ''){\n                data = undefined;\n            }else{\n                data = tryParseJson(data);\n                if(data instanceof Error){\n                    ajax.emit('error', event, data);\n                    return;\n                }\n            }\n        }\n\n        if(event.target.status >= 400){\n            ajax.emit('error', event, data);\n        } else {\n            ajax.emit('success', event, data);\n        }\n\n    }, false);\n\n    ajax.request.addEventListener('error', function(event){\n        ajax.emit('error', event);\n    }, false);\n\n    ajax.request.addEventListener('abort', function(event){\n        ajax.emit('error', event, new Error('Connection Aborted'));\n        ajax.emit('abort', event);\n    }, false);\n\n    ajax.request.addEventListener('loadend', function(event){\n        clearTimeout(this._requestTimeout);\n        ajax.emit('complete', event);\n    }, false);\n\n    ajax.request.open(ajax.settings.method || 'get', ajax.settings.url, true);\n\n    // Set default headers\n    if(ajax.settings.contentType !== false){\n        ajax.request.setRequestHeader('Content-Type', ajax.settings.contentType || 'application/json; charset=utf-8');\n    }\n    ajax.request.setRequestHeader('X-Requested-With', ajax.settings.requestedWith || 'XMLHttpRequest');\n    if(ajax.settings.auth){\n        ajax.request.setRequestHeader('Authorization', ajax.settings.auth);\n    }\n\n    // Set custom headers\n    for(var headerKey in ajax.settings.headers){\n        ajax.request.setRequestHeader(headerKey, ajax.settings.headers[headerKey]);\n    }\n\n    if(ajax.settings.processData !== false && ajax.settings.dataType === 'json'){\n        ajax.settings.data = JSON.stringify(ajax.settings.data);\n    }\n}\n\nAjax.prototype = Object.create(EventEmitter.prototype);\n\nAjax.prototype.send = function(){\n    this._requestTimeout = setTimeout(\n        timeout.bind(this),\n        this.settings.timeout || 120000\n    );\n    this.request.send(this.settings.data && this.settings.data);\n};\n\nmodule.exports = Ajax;","var createActivityRouter = require(\"activity-router\"),\n    routes = require(\"./routes\"),\n    fastn = require(\"../../fastn\");\n\nvar activityRouter = createActivityRouter(routes),\n    activitiesModel =  new fastn.Model({\n        activities: []\n    }),\n    activitiesBinding = fastn.binding('activities|*').attach(activitiesModel);\n\nfunction updateInfo(route){\n    fastn.Model.set(route, '_info', activityRouter.router.info(route.name));\n}\n\nactivitiesModel.on('.|**', function(activityData){\n    // console.log('activitiesModel: ',activityData);\n});\n\n// Change the default home page name to be 'index'\nactivityRouter.homeRoute = 'home';\n\nactivityRouter.on('add', function(activity, index){\n    updateInfo(activity);\n    activitiesModel.push('activities', activity);\n});\n\nactivityRouter.on('update', function(activity, index){\n    activitiesModel.update('activities.' + index, activity);\n});\n\nactivityRouter.on('replace', function(activity, index){\n    updateInfo(activity);\n    activitiesModel.set('activities.' + index, activity);\n});\n\nactivityRouter.on('remove', function(activity, index){\n    activitiesModel.remove('activities', index);\n});\n\nactivityRouter.binding = activitiesBinding;\n\nactivityRouter.init();\n\nmodule.exports = activityRouter;","// var level = require('level'),\n//     db = level('./local');\n\nmodule.exports = {\n  \n}\n\n// var arrayLength = obj.length;\n\n// for (var i = 0; i < arrayLength; i++) {\n//     //obj[i]['_id'] = i\n//     var chunk = JSON.stringify(obj[i])\n//     //var now = new Date()\n//     // var now = moment.utc().format()+i\n//  //console.log('hello world: ', i , ' : ',now,' : ',chunk)\n          \n//  //for (objKey in chunk){\n//       //if (!chunk.hasOwnProperty(objKey)){ continue; }\n//     var key = obj[i]['dbVendor'] +'_'+ obj[i]['dbName'] + '_' + obj[i]['dbTable']\n//     key = key.toLowerCase();\n//     var value = obj[i]['_id']\n//     //console.log('value',value)\n//      db.put(obj[i]['_id'],obj[i], function (err) {\n//        if (err) return console.log('Ooops!', err) // some kind of I/O error\n//        //console.log('hello world: ', i , ' : ')\n//      })\n// }\n\n// db.createReadStream({ keys: true, values: true })\n//   .on('data', function (data) {\n//     console.log('key=', data)\n//   })\n\n// var   ","var singleId = /^#\\w+$/;\n\nmodule.exports = function(document){\n    return function getTarget(target){\n        if(typeof target === 'string'){\n            if(singleId.exec(target)){\n                return document.getElementById(target.slice(1));\n            }\n            return document.querySelector(target);\n        }\n\n        return target;\n    };\n};","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\"),\n    tuteModel = app.tute.tuteModel;\n\nmodule.exports = function( activityModel ){\n    return  fastn('div', {class: 'page'},\n        fastn('div',  {class: 'tutes'}, \n            fastn('div',  {class: 'tute-head'},fastn.binding('currentTute.title'), ' - ',fastn.binding('currentTute.courseId') )\n            // ,\n            // fastn('div',  {class: 'tute-timer'},fastn.binding('currentTute.startDate'), ' - ', fastn.binding('currentTute.endTime') ),\n            // fastn('div',  {class: 'tute-tutor'},fastn.binding('currentTute.tutor'), ' - ', fastn.binding('currentTute.tutorId') ),\n            // fastn('div',  {class: 'tute-tutor-email'}, fastn.binding('currentTute.email') )\n        ),\n        fastn('list', {\n            class: 'tute-items',\n            items: fastn.binding('currentTute.topics|*'),\n            template: function( model ){\n                return fastn('div',  {class: 'tute-topic'},\n                        fastn.binding('item.title'),\n                        fastn('div', {'class': 'tute-vote'}, \n                            fastn('icon', { class: 'tute-vote-yes', 'name': 'thumb-down'}) \n                                .on('click', function(event, scope) {\n                                        event.preventDefault();\n                                        event.stopImmediatePropagation();\n                                    }\n                                ),\n                            // fastn('label',  {class: 'nonComprende'},fastn.binding('item.nonComprehende'),     '  ' ),\n                            fastn('label',  {class: 'percentage'},'0 %' ),\n                            // fastn('label',  {class: 'comprende'},fastn.binding('item.comprehende'), '  ' ),\n                            fastn('icon', {'class': 'tute-vote-no','name': 'thumb-up'}) \n                                .on('click', function(event, scope) {\n                                        event.preventDefault();\n                                        event.stopImmediatePropagation();\n                                    }\n                                )\n                        )\n\n                    \n                    ).on('click',function(event,scope){\n                        // console.log('helol',scope.get('item.id') );\n                        // app.activityRouter.add('tute',{_id:scope.get('item.id')});\n                    });\n            }\n        })\n    ).attach(tuteModel);\n}\n\n\n\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\"),\n    timeModel = app.time.timeModel,\n    tuteModel = app.tute.tuteModel,\n    sim = require(\"../../sim\"),\n    debug = require(\"debug\")('tuteme:index'),\n    start = new Date(),\n    startMil = start.getTime(),\n    h = start.getHours(), \n    m = ( '00' + + Math.floor( start.getMinutes() )).slice(-2) ,\n    _time = (h > 12) ? (h-12 + ':' + m +' PM') : (h + ':' + m +' AM'),\n    now = 0,\n    fiveMin = 1000 * 60 * 5,\n    thirtySec = 1000 * 30;\n\nvar home = fastn('div', {class: 'page'},\n        fastn('div',  {class: 'tutes'},\n            fastn('div',  {class: 'tute-container'},'Next up'),\n            fastn('list', {\n                class: 'tute-items',\n                items: fastn.binding('tutes|*'),\n                template: function( model ){\n                return  fastn('div',  {class: 'tute-card'},\n                            fastn('label', {class: 'tute-title'}, fastn.binding('item.title'),' : ', fastn.binding('item.courseId') ),\n                            \n                            fastn('label', {class: 'tute-startDate'}, fastn.binding('item.startDate') ),\n                            fastn('label', {class: 'tute-tutor'},fastn.binding('item.tutor') )\n                            \n                        ).on('click',function(event,scope){\n                            // console.log('helol',scope.get('item.id') );\n                            app.activityRouter.add('tute',{_id:scope.get('item.id')});\n                        });\n                }\n            })\n            .attach(tuteModel)\n        )\n        \n    );\n\nmodule.exports = function(){\n    \n    return home;\n}","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\"),\n    tuteModel = app.tute.tuteModel;\n\nmodule.exports = function( activityModel ){\n    // console.log(activityModel.get('item.values._id'), fastn.binding('.')());\n    return  fastn('div', {class: 'page'},\n        fastn('div',  {class: 'tutes'}, \n            fastn('div',  {class: 'tute-container'},fastn.binding('currentTute.title'), ' - ',fastn.binding('currentTute.courseId') ),\n            fastn('div',  {class: 'tute-timer'},fastn.binding('currentTute.startDate'), ' - ', fastn.binding('currentTute.endTime') ),\n            fastn('div',  {class: 'tute-tutor'},fastn.binding('currentTute.tutor'), ' - ', fastn.binding('currentTute.tutorId') ),\n            fastn('div',  {class: 'tute-tutor-email'},fastn.binding('currentTute.email'))\n            \n            \n        )       \n    ).attach(tuteModel);\n}","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","var supportedTypes = ['text', 'search', 'tel', 'url', 'password'];\n\nmodule.exports = function(element){\n    return !!(element.setSelectionRange && ~supportedTypes.indexOf(element.type));\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","/*!\n\tquery-string\n\tParse and stringify URL query strings\n\thttps://github.com/sindresorhus/query-string\n\tby Sindre Sorhus\n\tMIT License\n*/\n(function () {\n\t'use strict';\n\tvar queryString = {};\n\n\tqueryString.parse = function (str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn {};\n\t\t}\n\n\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\tif (!str) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\tvar key = parts[0];\n\t\t\tvar val = parts[1];\n\n\t\t\tkey = decodeURIComponent(key);\n\t\t\t// missing `=` should be `null`:\n\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\tret[key] = val;\n\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\tret[key].push(val);\n\t\t\t} else {\n\t\t\t\tret[key] = [ret[key], val];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}, {});\n\t};\n\n\tqueryString.stringify = function (obj) {\n\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\tvar val = obj[key];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() { return queryString; });\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = queryString;\n\t} else {\n\t\tself.queryString = queryString;\n\t}\n})();\n","\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(array)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n","module.exports = {\n    home:{\n         _url: '/',\n         _title: 'Home'\n    },\n    tute:{\n         _url: 'tute/{_id}',\n         _title: 'Tute'\n    }\n};","module.exports = function (argument) {\n    console.log('hello world');\n}","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","var Router = require('route-tree'),\n    EventEmitter = require('events').EventEmitter,\n    debounce = require('debounce');\n\nmodule.exports = function(routes, getActivities, updateRoute){\n    var activityRouter = new EventEmitter(),\n        activities = [],\n        router = new Router(routes);\n\n    router.basePath = window.location.href.match(/(^[^?#]*)\\/.*$/)[1] + '/';\n\n    function addActivity(activity){\n        activities.push(activity);\n\n        updateHash();\n\n        activityRouter.emit('add', activity, activities.length - 1);\n    }\n\n    function updateActivity(activity, index){\n        if(activities.length <= index){\n            return addActivity(activity);\n        }\n\n        activities[index].values = activity.values;\n\n        updateHash();\n\n        activityRouter.emit('update', activities[index], index);\n    }\n\n    function replaceActivity(activity, index){\n        if(activities.length <= index){\n            return addActivity(activity);\n        }\n\n        if(activities[index].name === activity.name){\n            return updateActivity(activity, index);\n        }\n\n        activities[index] = activity;\n\n        updateHash();\n\n        activityRouter.emit('replace', activity, index);\n    }\n\n    function removeActivity(index){\n        if(!activities[index]){\n            return;\n        }\n\n        var activity = activities[index];\n\n        activities.splice(index, 1);\n\n        updateHash();\n\n        activityRouter.emit('remove', activity, index);\n    }\n\n    function getPaths(){\n        return window.location.hash.split('#').slice(1);\n    }\n\n    function buildPath(){\n        var path = '';\n        if(!activities.length){\n            return '#/';\n        }\n        for(var i = 0; i < activities.length; i++){\n            var route = activities[i],\n                href = router.get(route.name, route.values);\n\n            if(!href){\n                console.error('No route was found named \"' + route.name + '\"');\n                continue;\n            }\n\n            path += '#' + href.replace(router.basePath, '');\n        }\n\n        return path;\n    }\n\n    var updateHash = function(){\n        var path = buildPath();\n\n        if(router.basePath + '#' + path !== window.location.href){\n            window.location.hash = path;\n        }\n    };\n\n    var routeCounter = 0;\n\n    function buildRoutes(){\n        var paths = getPaths();\n\n        if(paths.length === 0){\n            paths.push('/');\n        }\n\n        for(var i = 0; i < paths.length; i++){\n            var path = router.resolve(router.basePath, paths[i]),\n                activity = activities[i];\n\n            if(!activity){\n                activity = {\n                    id: routeCounter++,\n                    name: router.find(path),\n                    values: router.values(path)\n                };\n                addActivity(activity);\n            }else{\n                var newName = router.find(path),\n                    newValues = router.values(path);\n\n                replaceActivity({\n                    name: newName,\n                    values: newValues\n                }, i);\n            }\n\n        }\n\n        while(activities.length > i){\n            removeActivity(activities.length - 1);\n        }\n    }\n\n    var updateRoutes = debounce(function(){\n        if(activities.length && buildPath() === window.location.hash){\n            return;\n        }\n        buildRoutes();\n    },10);\n\n    window.addEventListener('hashchange', updateRoutes);\n    window.addEventListener('popstate', updateRoutes);\n\n    activityRouter.router = router,\n\n    activityRouter.add = function(name, values){\n        addActivity({\n            name: name,\n            values: values\n        });\n    };\n\n    activityRouter.replace = function(name, values, index){\n        replaceActivity({\n            name: name,\n            values: values\n        }, index);\n    };\n\n    activityRouter.top = function(name, values){\n        replaceActivity({\n            name: name,\n            values: values\n        }, activities.length - 1);\n    };\n\n    activityRouter.pop = function(){\n        removeActivity(activities.length - 1);\n    };\n\n    activityRouter.reset = function(name, values){\n        while(activities.length > 1){\n            removeActivity(activities.length - 1);\n        }\n\n        replaceActivity({\n            name: name,\n            values: values\n        }, 0);\n    };\n\n    activityRouter.init = updateRoutes;\n\n    return activityRouter;\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n",";(function (exports) {\n  'use strict'\n\n  var i\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  var lookup = []\n  for (i = 0; i < code.length; i++) {\n    lookup[i] = code[i]\n  }\n  var revLookup = []\n\n  for (i = 0; i < code.length; ++i) {\n    revLookup[code.charCodeAt(i)] = i\n  }\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n  function decode (elt) {\n    var v = revLookup[elt.charCodeAt(0)]\n    return v !== undefined ? v : -1\n  }\n\n  function b64ToByteArray (b64) {\n    var i, j, l, tmp, placeHolders, arr\n\n    if (b64.length % 4 > 0) {\n      throw new Error('Invalid string. Length must be a multiple of 4')\n    }\n\n    // the number of equal signs (place holders)\n    // if there are two placeholders, than the two characters before it\n    // represent one byte\n    // if there is only one, then the three characters before it represent 2 bytes\n    // this is just a cheap hack to not do indexOf twice\n    var len = b64.length\n    placeHolders = b64.charAt(len - 2) === '=' ? 2 : b64.charAt(len - 1) === '=' ? 1 : 0\n\n    // base64 is 4/3 + up to two characters of the original data\n    arr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n    // if there are placeholders, only get up to the last complete 4 chars\n    l = placeHolders > 0 ? b64.length - 4 : b64.length\n\n    var L = 0\n\n    function push (v) {\n      arr[L++] = v\n    }\n\n    for (i = 0, j = 0; i < l; i += 4, j += 3) {\n      tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n      push((tmp & 0xFF0000) >> 16)\n      push((tmp & 0xFF00) >> 8)\n      push(tmp & 0xFF)\n    }\n\n    if (placeHolders === 2) {\n      tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n      push(tmp & 0xFF)\n    } else if (placeHolders === 1) {\n      tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n      push((tmp >> 8) & 0xFF)\n      push(tmp & 0xFF)\n    }\n\n    return arr\n  }\n\n  function encode (num) {\n    return lookup[num]\n  }\n\n  function tripletToBase64 (num) {\n    return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n  }\n\n  function encodeChunk (uint8, start, end) {\n    var temp\n    var output = []\n    for (var i = start; i < end; i += 3) {\n      temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n      output.push(tripletToBase64(temp))\n    }\n    return output.join('')\n  }\n\n  function uint8ToBase64 (uint8) {\n    var i\n    var extraBytes = uint8.length % 3 // if we have 1 byte left, pad 2 bytes\n    var output = ''\n    var parts = []\n    var temp, length\n    var maxChunkLength = 16383 // must be multiple of 3\n\n    // go through the array every three bytes, we'll deal with trailing stuff later\n\n    for (i = 0, length = uint8.length - extraBytes; i < length; i += maxChunkLength) {\n      parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > length ? length : (i + maxChunkLength)))\n    }\n\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    switch (extraBytes) {\n      case 1:\n        temp = uint8[uint8.length - 1]\n        output += encode(temp >> 2)\n        output += encode((temp << 4) & 0x3F)\n        output += '=='\n        break\n      case 2:\n        temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n        output += encode(temp >> 10)\n        output += encode((temp >> 4) & 0x3F)\n        output += encode((temp << 2) & 0x3F)\n        output += '='\n        break\n      default:\n        break\n    }\n\n    parts.push(output)\n\n    return parts.join('')\n  }\n\n  exports.toByteArray = b64ToByteArray\n  exports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n","var intersect = require('./intersect'),\n    arrayProto = [],\n    absolutePath = /^.+?\\:\\/\\//g,\n    formatRegex = /\\{.*?\\}/g,\n    keysRegex = /\\{(.*?)\\}/g,\n    nonNameKey = /^_(.*)$/,\n    sanitiseRegex = /[#-.\\[\\]-^?]/g;\n\nfunction sanitise(string){\n    return string.replace(sanitiseRegex, '\\\\$&');\n}\n\nfunction isRestKey(key){\n    return key.match(/^.*?\\.\\.\\.$/);\n}\n\nfunction isRestToken(token){\n    return token.match(/^{.*?(?:\\.\\.\\.)|(?:\\\\\\.\\\\\\.\\\\\\.)}$/);\n}\n\nfunction formatString(string, values) {\n    values || (values = {});\n\n    return string.replace(/{(.+?)}/g, function (match, key) {\n        if(isRestKey(key)){\n            key = key.slice(0,-3);\n        }\n        return (values[key] === undefined || values[key] === null) ? '' : values[key];\n    });\n}\n\nfunction resolve(rootPath, path){\n    if(!path){\n        return rootPath;\n    }\n    if(path.match(absolutePath)){\n        return path;\n    }\n    return rootPath + path;\n}\n\nfunction Router(routes){\n    this.basePath  = window.location.protocol + '//' + window.location.host;\n    this.routes = routes;\n    this.homeRoute = 'home';\n}\n\nfunction scanRoutes(routes, fn){\n    var route,\n        routeKey,\n        result;\n\n    for(var key in routes){\n        if(key.charAt(0) === '_'){\n            continue;\n        }\n\n        // Scan children first\n        result = scanRoutes(routes[key], fn);\n        if(result != null){\n            return result;\n        }\n        // Scan current route\n        result = fn(routes[key], key);\n        if(result != null){\n            return result;\n        }\n    }\n}\n\nRouter.prototype.currentPath = function(){\n    return window.location.href;\n};\n\nRouter.prototype.details = function(url){\n    var router = this;\n\n    if(url == null){\n        url = this.currentPath();\n    }\n\n    return scanRoutes(this.routes, function(route, routeName){\n        var urls = Array.isArray(route._url) ? route._url : [route._url],\n            bestMatch,\n            mostMatches = 0;\n\n        for(var i = 0; i < urls.length; i++){\n            var routeKey = router.resolve(router.basePath, urls[i]),\n                regex = '^' + sanitise(routeKey).replace(formatRegex, function(item){\n                    if(isRestToken(item)){\n                        return '(.*?)';\n                    }\n                    return '([^/]*?)';\n                }) + '$',\n                match = url.match(regex);\n\n            if(match && match.length > mostMatches){\n                mostMatches = match.length;\n                bestMatch = routeKey;\n            }\n        }\n\n        if(bestMatch == null){\n            return;\n        }\n\n        return {\n            path: url,\n            name: routeName,\n            template: bestMatch\n        };\n    });\n};\n\nRouter.prototype.info = function(name){\n    var router = this;\n\n    return scanRoutes(this.routes, function(route, routeName){\n        if(routeName !== name){\n            return;\n        }\n\n        var info = {\n            name: routeName\n        };\n\n        for(var key in route){\n            var keyNameMatch = key.match(nonNameKey);\n            if(keyNameMatch){\n                info[keyNameMatch[1]] = route[key];\n            }\n        }\n\n        return info;\n    });\n};\n\nRouter.prototype.find = function(url){\n    var details = this.details(url);\n\n    return details && details.name;\n};\n\nRouter.prototype.upOneName = function(name){\n    if(!name){\n        return;\n    }\n\n    return scanRoutes(this.routes, function(route, routeName){\n        if(name in route){\n            return routeName;\n        }\n    }) || this.homeRoute;\n};\n\nRouter.prototype.upOne = function(path){\n    if(path === undefined){\n        path = window.location.href;\n    }\n\n    return this.drill(path, this.upOneName(this.find(path)));\n};\n\nfunction cleanTokens(token){\n    return token.slice(1,-1);\n}\n\nRouter.prototype.getRouteTemplate = function(name, values){\n    var keys = values && typeof values === 'object' && Object.keys(values) || [],\n        routeTemplate = scanRoutes(this.routes, function(route, routeName){\n        if(name === routeName){\n            var result = {\n                route: route\n            };\n\n            if(!Array.isArray(route._url)){\n                result.template = route._url;\n                return result;\n            }\n\n            var urlsByDistance = route._url.slice().sort(function(urlA, urlB){\n                var keysA = (urlA.match(keysRegex) || []).map(cleanTokens),\n                    keysB = (urlB.match(keysRegex) || []).map(cleanTokens),\n                    commonAKeys = intersect(keysA, keys),\n                    commonBKeys = intersect(keysB, keys),\n                    aDistance = Math.abs(commonAKeys.length - keys.length),\n                    bDistance = Math.abs(commonBKeys.length - keys.length);\n\n                return aDistance - bDistance;\n            });\n\n            result.template = urlsByDistance[0] || route._url[0];\n\n            return result;\n        }\n    });\n\n    if(!routeTemplate){\n        return;\n    }\n\n    routeTemplate.template = this.resolve(this.basePath, routeTemplate.template);\n\n    return routeTemplate;\n};\n\nRouter.prototype.getTemplate = function(name, values){\n    return this.getRouteTemplate(name, values).template;\n};\n\nRouter.prototype.get = function(name, values){\n    var routeTemplate = this.getRouteTemplate(name, values);\n\n    if(!routeTemplate){\n        return null;\n    }\n\n    values || (values = {});\n\n    if(routeTemplate.route._defaults){\n        for(var key in routeTemplate.route._defaults){\n            var defaultValue = routeTemplate.route._defaults[key];\n\n            if(typeof defaultValue === 'function'){\n                defaultValue = defaultValue();\n            }\n\n            values[key] || (values[key] = defaultValue);\n        }\n    }\n\n    var serialise = routeTemplate.route._serialise;\n\n    var resolvedValues = {};\n\n    for(var valuesKey in values) {\n        var value = values[valuesKey];\n        resolvedValues[valuesKey] = serialise ?\n            serialise(valuesKey, value) :\n            value;\n    }\n\n    return formatString(routeTemplate.template, resolvedValues);\n};\n\nRouter.prototype.isIn = function(childName, parentName){\n    var currentRoute = childName,\n        lastRoute;\n\n    while(currentRoute !== lastRoute && currentRoute !== parentName){\n        lastRoute = currentRoute;\n        currentRoute = this.upOneName(currentRoute);\n    }\n\n    return currentRoute === parentName;\n};\n\nRouter.prototype.isRoot = function(name){\n    return name in this.routes;\n};\n\nRouter.prototype.values = function(path){\n    var details = this.details.apply(this, arguments),\n        result = {},\n        keys,\n        values;\n\n    if(details == null || details.template == null){\n        return;\n    }\n\n    keys = details.template.match(keysRegex);\n    values = details.path.match('^' + sanitise(details.template).replace(formatRegex, '(.*?)') + '$');\n\n    var info = this.info(details.name);\n\n    if(keys && values){\n        keys = keys.map(function(key){\n            if(isRestToken(key)){\n                return key.slice(1,-4);\n            }\n            return key.slice(1,-1);\n        });\n        values = values.slice(1);\n        for(var i = 0; i < keys.length; i++){\n            var value = values[i];\n\n            if(info.deserialise) {\n                value = info.deserialise(keys[i], value);\n            }\n            result[keys[i]] = value;\n        }\n    }\n\n    return result;\n};\n\nRouter.prototype.drill = function(url, route, newValues){\n    if(url == null){\n        url = this.currentPath();\n    }\n\n\n    var getArguments = this.values(url);\n\n    if(newValues){\n        for(var key in newValues){\n            getArguments[key] = newValues[key];\n        }\n    }\n\n    return this.get(route, getArguments);\n};\n\nRouter.prototype.resolve = resolve;\n\nmodule.exports = Router;\n","module.exports = function intersect(arrayA, arrayB, intersector){\n    var results = [];\n\n    function innerCheck(aItem){\n        for (var i = 0; i < arrayB.length; i++) {\n            if(\n                (intersector && intersector(aItem, arrayB[i])) ||\n                (!intersector && aItem === arrayB[i])\n            ){\n                results.push(aItem);\n            }\n        }\n    }\n\n    for (var i = 0; i < arrayA.length; i++) {\n        innerCheck(arrayA[i]);\n    }\n\n    return results;\n};","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n"]}